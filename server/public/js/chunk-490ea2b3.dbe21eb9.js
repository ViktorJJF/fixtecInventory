(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-490ea2b3"],{b861:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"container-width pa-5"},[a("h1",{staticClass:"mb-3"},[t._v(" Total de compras: "),a("span",{},[t._v("S/."+t._s(t._f("formatMoney")(t.totalPurchases)))])]),a("v-container",{attrs:{fluid:""}},[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("strong",[t._v("Cantidad de compras:")]),t._v(" "+t._s(t.$store.state.purchasesModule.total)+" ")]),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),a("v-simple-table",{staticClass:"custom-table",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[a("span",[t._v("Negocio")])]),a("th",{staticClass:"text-center"},[a("span",[t._v("Fecha")])]),a("th",{staticClass:"text-center"},[a("span",[t._v("Productos")])]),a("th",{staticClass:"text-center"},[a("span",[t._v("Total de compra")])])])]),a("tbody",[t._l(t.paginatedPurchases,(function(e){return a("tr",{key:e.name},[a("td",{staticClass:"text-center"},[a("b",[t._v(t._s(e.commerce))])]),a("td",{staticClass:"text-center"},[t._v(t._s(t._f("formatDate")(e.date)))]),a("td",{staticClass:"text-center"},[a("ul",t._l(e.products,(function(e){return a("li",{key:e._id},[t._v(t._s(e.productId?e.productId.name:"Producto eliminado")+" ("+t._s(e.qty)+" x S/."+t._s(e.purchasePrice)+")")])})),0)]),a("td",{staticClass:"text-center"},[t._v("S/."+t._s(t.totalRevenue(e.products)))])])})),a("tr",[a("td",{staticClass:"text-center"}),a("td",{staticClass:"text-center"}),a("td",{staticClass:"text-center"}),a("td",{staticClass:"text-center"},[a("b",[t._v("Total de Compras:")]),a("span",{},[t._v("S/."+t._s(t.totalPurchases))])])])],2)]},proxy:!0}])}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},r=[],n=(a("13d5"),a("fb6a"),a("b680"),a("96cf"),a("1da1")),c=a("b166"),o={filters:{formatDate:function(t){return Object(c["a"])(new Date(t),"dd/MM/yyyy")}},data:function(){return{page:1}},mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loadingModule/showLoading"),e.next=3,t.$store.dispatch("purchasesModule/listWithProducts",{page:1,limit:9999});case 3:t.$store.dispatch("loadingModule/showLoading",!1);case 4:case"end":return e.stop()}}),e)})))()},computed:{pageCount:function(){return Math.ceil(this.purchases.length/this.$store.state.itemsPerPage)},purchases:function(){return this.$store.state.purchasesModule.purchases},paginatedPurchases:function(){return this.purchases.slice((this.page-1)*this.$store.state.itemsPerPage,this.page*this.$store.state.itemsPerPage)},totalPurchases:function(){return this.purchases.reduce((function(t,e){return t+e.products.reduce((function(t,e){return t+e.purchasePrice*e.qty}),0)}),0).toFixed(2)}},methods:{totalRevenue:function(t){return t?t.reduce((function(t,e){return t+e.purchasePrice*e.qty}),0).toFixed(2):"S/.0"}}},i=o,u=a("2877"),l=a("6544"),d=a.n(l),p=a("62ad"),h=a("a523"),f=a("891e"),v=a("1f4f"),g=Object(u["a"])(i,s,r,!1,null,"5db90132",null);e["default"]=g.exports;d()(g,{VCol:p["a"],VContainer:h["a"],VPagination:f["a"],VSimpleTable:v["a"]})},fb6a:function(t,e,a){"use strict";var s=a("23e7"),r=a("861d"),n=a("e8b5"),c=a("23cb"),o=a("50c4"),i=a("fc6a"),u=a("8418"),l=a("b622"),d=a("1dde"),p=a("ae40"),h=d("slice"),f=p("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),g=[].slice,m=Math.max;s({target:"Array",proto:!0,forced:!h||!f},{slice:function(t,e){var a,s,l,d=i(this),p=o(d.length),h=c(t,p),f=c(void 0===e?p:e,p);if(n(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?r(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return g.call(d,h,f);for(s=new(void 0===a?Array:a)(m(f-h,0)),l=0;h<f;h++,l++)h in d&&u(s,l,d[h]);return s.length=l,s}})}}]);
//# sourceMappingURL=chunk-490ea2b3.dbe21eb9.js.map