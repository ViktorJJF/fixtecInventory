(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b55f92a"],{"1148d":function(t,e,r){"use strict";var a=r("a691"),n=r("1d80");t.exports="".repeat||function(t){var e=String(n(this)),r="",o=a(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(r+=e);return r}},"13d5":function(t,e,r){"use strict";var a=r("23e7"),n=r("d58f").left,o=r("a640"),i=r("ae40"),c=o("reduce"),s=i("reduce",{1:0});a({target:"Array",proto:!0,forced:!c||!s},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"3ca3":function(t,e,r){"use strict";var a=r("6547").charAt,n=r("69f3"),o=r("7dd0"),i="String Iterator",c=n.set,s=n.getterFor(i);o(String,"String",(function(t){c(this,{type:i,string:String(t),index:0})}),(function(){var t,e=s(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=a(r,n),e.index+=t.length,{value:t,done:!1})}))},"408a":function(t,e,r){var a=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},"4df4":function(t,e,r){"use strict";var a=r("0366"),n=r("7b0b"),o=r("9bdd"),i=r("e95a"),c=r("50c4"),s=r("8418"),l=r("35a1");t.exports=function(t){var e,r,u,d,f,p,v=n(t),h="function"==typeof this?this:Array,m=arguments.length,b=m>1?arguments[1]:void 0,g=void 0!==b,y=l(v),w=0;if(g&&(b=a(b,m>2?arguments[2]:void 0,2)),void 0==y||h==Array&&i(y))for(e=c(v.length),r=new h(e);e>w;w++)p=g?b(v[w],w):v[w],s(r,w,p);else for(d=y.call(v),f=d.next,r=new h;!(u=f.call(d)).done;w++)p=g?o(d,b,[u.value,w],!0):u.value,s(r,w,p);return r.length=w,r}},"53f5":function(t,e,r){},"737d":function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var a=r("fd3a"),n=r("49ef"),o=r("fbb4");function i(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=Object(a["a"])(t);if(!Object(n["a"])(r))throw new RangeError("Invalid time value");var i=e||{},c=null==i.format?"extended":String(i.format),s=null==i.representation?"complete":String(i.representation);if("extended"!==c&&"basic"!==c)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==s&&"time"!==s&&"complete"!==s)throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",u="",d="extended"===c?"-":"",f="extended"===c?":":"";if("time"!==s){var p=Object(o["a"])(r.getDate(),2),v=Object(o["a"])(r.getMonth()+1,2),h=Object(o["a"])(r.getFullYear(),4);l="".concat(h).concat(d).concat(v).concat(d).concat(p)}if("date"!==s){var m=r.getTimezoneOffset();if(0!==m){var b=Math.abs(m),g=Object(o["a"])(Math.floor(b/60),2),y=Object(o["a"])(b%60,2),w=m<0?"+":"-";u="".concat(w).concat(g,":").concat(y)}else u="Z";var x=Object(o["a"])(r.getHours(),2),S=Object(o["a"])(r.getMinutes(),2),_=Object(o["a"])(r.getSeconds(),2),C=""===l?"":"T",A=[x,S,_].join(f);l="".concat(l).concat(C).concat(A).concat(u)}return l}},a630:function(t,e,r){var a=r("23e7"),n=r("4df4"),o=r("1c7e"),i=!o((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:n})},b680:function(t,e,r){"use strict";var a=r("23e7"),n=r("a691"),o=r("408a"),i=r("1148d"),c=r("d039"),s=1..toFixed,l=Math.floor,u=function(t,e,r){return 0===e?r:e%2===1?u(t,e-1,r*t):u(t*t,e/2,r)},d=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},f=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){s.call({})}));a({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,r,a,c,s=o(this),f=n(t),p=[0,0,0,0,0,0],v="",h="0",m=function(t,e){var r=-1,a=e;while(++r<6)a+=t*p[r],p[r]=a%1e7,a=l(a/1e7)},b=function(t){var e=6,r=0;while(--e>=0)r+=p[e],p[e]=l(r/t),r=r%t*1e7},g=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var r=String(p[t]);e=""===e?r:e+i.call("0",7-r.length)+r}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(v="-",s=-s),s>1e-21)if(e=d(s*u(2,69,1))-69,r=e<0?s*u(2,-e,1):s/u(2,e,1),r*=4503599627370496,e=52-e,e>0){m(0,r),a=f;while(a>=7)m(1e7,0),a-=7;m(u(10,a,1),0),a=e-1;while(a>=23)b(1<<23),a-=23;b(1<<a),m(1,1),b(2),h=g()}else m(0,r),m(1<<-e,0),h=g()+i.call("0",f);return f>0?(c=h.length,h=v+(c<=f?"0."+i.call("0",f-c)+h:h.slice(0,c-f)+"."+h.slice(c-f))):h=v+h,h}})},b85c:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),r("a630"),r("fb6a"),r("b0c0"),r("25f0");function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function n(t,e){if(t){if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function o(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=n(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){s=!0,i=t},f:function(){try{c||null==r["return"]||r["return"]()}finally{if(s)throw i}}}}},d28b:function(t,e,r){var a=r("746f");a("iterator")},d58f:function(t,e,r){var a=r("1c0b"),n=r("7b0b"),o=r("44ad"),i=r("50c4"),c=function(t){return function(e,r,c,s){a(r);var l=n(e),u=o(l),d=i(l.length),f=t?d-1:0,p=t?-1:1;if(c<2)while(1){if(f in u){s=u[f],f+=p;break}if(f+=p,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=p)f in u&&(s=r(s,u[f],f,l));return s}};t.exports={left:c(!1),right:c(!0)}},e01a:function(t,e,r){"use strict";var a=r("23e7"),n=r("83ab"),o=r("da84"),i=r("5135"),c=r("861d"),s=r("9bf2").f,l=r("e893"),u=o.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(f,u);var p=f.prototype=u.prototype;p.constructor=f;var v=p.toString,h="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=v.call(t);if(i(d,t))return"";var r=h?e.slice(7,-1):e.replace(m,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:f})}},ea35:function(t,e,r){"use strict";var a=r("53f5"),n=r.n(a);n.a},f32d:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("custom-card",{attrs:{title:"Realizar compra",icon:"mdi-plus"},scopedSlots:t._u([{key:"content",fn:function(){return[r("v-container",[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.historyMode,expression:"historyMode"}],attrs:{prominent:"",type:"error"}},[r("v-col",{staticClass:"grow"},[t._v("Aviso: Estás en el modo de compras históricas, por lo que las compras que registres no modificarán tu stock actual.")])],1),r("v-row",{attrs:{align:"center",dense:""}},[r("p",{staticClass:"body-1 font-weight-bold d-inline mx-3"},[t._v("Fecha:")]),r("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[r("v-text-field",{staticClass:"date-width",attrs:{outlined:"",dense:"","prepend-icon":"event",type:"date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-select",{attrs:{items:t.commerce,label:"Selecciona el negocio",outlined:"",dense:""},model:{value:t.selectedCommerce,callback:function(e){t.selectedCommerce=e},expression:"selectedCommerce"}})],1),r("v-spacer")],1),r("v-dialog",{attrs:{width:"1200"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"my-3 mr-3",attrs:{tile:"",color:"primary"}},Object.assign({},n,a)),[r("v-icon",{attrs:{left:""}},[t._v("search")]),t._v("Agregar producto ")],1)]}}],null,!0)},[r("span",[t._v("Inventario")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[r("v-toolbar-title",[t._v("Productos")])],1),r("v-container",[r("products",{attrs:{selectButton:!0},on:{"add-product":t.addPurchase}})],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("De acuerdo")])],1)],1)],1),r("v-btn",{attrs:{outlined:"",color:"primary",to:{name:"historyPurchase"}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-format-list-checks")]),t._v("Ver historial ")],1),r("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[r("span",[t._v("Tipo")])]),r("th",{staticClass:"text-left"},[r("span",[t._v("Producto")])]),r("th",{staticClass:"text-left"},[r("span",[t._v("Marca")])]),r("th",{staticClass:"text-left"},[r("span",[t._v("Cantidad")])]),r("th",{staticClass:"text-left"},[r("span",[t._v("Precio de compra")])]),r("th",{staticClass:"text-left"},[r("span",[t._v("Subtotal")])]),r("th",{staticClass:"text-left"},[r("span",[t._v("Eliminar producto")])])])]),r("tbody",t._l(t.purchases,(function(e,a){return r("tr",{key:"a"+a},[r("td",[t._v(t._s(e.productDetails.typeId?e.productDetails.typeId.name:"Sin tipo"))]),r("td",[t._v(t._s(e.productDetails.name))]),r("td",[t._v(t._s(e.productDetails.brandId?e.productDetails.brandId.name:"Sin Marca"))]),r("td",[r("v-text-field",{staticClass:"inputs-width",attrs:{suffix:"unidades",type:"number"},model:{value:e.qty,callback:function(r){t.$set(e,"qty",r)},expression:"product.qty"}})],1),r("td",[r("v-text-field",{staticClass:"inputs-width",attrs:{prefix:"S/.",type:"number"},model:{value:e.purchasePrice,callback:function(r){t.$set(e,"purchasePrice",r)},expression:"product.purchasePrice"}})],1),r("td",[t._v("S/."+t._s((e.purchasePrice*e.qty).toFixed(2)))]),r("td",[r("v-btn",{attrs:{small:"",color:"error"},on:{click:function(e){return t.deletePurchase(a)}}},[t._v("Eliminar")])],1)])})),0)]},proxy:!0}])}),r("v-alert",{directives:[{name:"show",rawName:"v-show",value:0==t.purchases.length,expression:"purchases.length==0"}],staticClass:"my-5",attrs:{type:"warning",text:""}},[t._v("Aún no agregaste productos a esta compra")]),r("v-row",{staticClass:"mr-3 mb-3",attrs:{justify:"end"}},[r("v-card",{staticClass:"pa-3",attrs:{dark:"",outlined:"",color:"info"}},[r("strong",{staticClass:"text--white"},[t._v("Total:")]),t._v(" "),r("span",{staticClass:"total"},[t._v("S/."+t._s(t.getTotal))])])],1),r("v-btn",{attrs:{loading:t.loadingButton,color:"success"},on:{click:function(e){return t.savePurchase(t.purchases,t.date,t.selectedCommerce)}}},[t._v("Terminar compra")])],1)]},proxy:!0}])})},n=[],o=(r("13d5"),r("a434"),r("b680"),r("b85c")),i=(r("96cf"),r("1da1")),c=r("d101"),s=r("737d"),l={components:{products:c["a"]},data:function(){return{dialog:null,commerce:["VENTA DE ACCESORIOS","VENTA DE REPUESTOS","SOFTWARE","HARDWARE","CELULARES"],selectedCommerce:"",historyMode:!1,selectedProduct:null,date:Object(s["a"])(new Date,{representation:"date"}),menu:!1,purchases:[],total:0,productsLoading:!1,loadingButton:!1}},methods:{deletePurchase:function(t){this.purchases.splice(t,1)},addPurchase:function(t){t&&(this.purchases.push({productDetails:t,productId:t._id,qty:1,purchasePrice:t.purchasePrice,history:this.historyMode}),this.dialog=!1)},savePurchase:function(t,e,r){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var i,c,s,l,u,d,f,p,v,h,m,b;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.loadingButton=!0,t=a.$deepCopy(t),i=Object(o["a"])(t);try{for(i.s();!(c=i.n()).done;)s=c.value,delete s["productDetails"]}catch(g){i.e(g)}finally{i.f()}if(a.historyMode){l=Object(o["a"])(t);try{for(l.s();!(u=l.n()).done;)d=u.value,d.history=!0}catch(g){l.e(g)}finally{l.f()}}else{f=Object(o["a"])(t);try{for(f.s();!(p=f.n()).done;)v=p.value,v.history=!1}catch(g){f.e(g)}finally{f.f()}}return n.prev=5,e=new Date(e),e=new Date(e.getTime()- -6e4*e.getTimezoneOffset()),n.next=10,a.$store.dispatch("purchasesModule/create",{history:a.historyMode,products:t,date:e,commerce:r});case 10:h=Object(o["a"])(t);try{for(h.s();!(m=h.n()).done;)b=m.value,b.history||a.$store.commit("productsModule/updateStock",{productId:b.productId,qty:+b.qty})}catch(g){h.e(g)}finally{h.f()}a.purchases=[];case 13:return n.prev=13,a.loadingButton=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[5,,13,16]])})))()},productsList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.products.length){e.next=8;break}return t.productsLoading=!0,e.prev=2,e.next=5,t.$store.dispatch("productsModule/list");case 5:return e.prev=5,t.productsLoading=!1,e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))()}},computed:{products:function(){return this.$store.state.productsModule.products},getTotal:function(){return this.purchases.reduce((function(t,e){return t+e.purchasePrice*e.qty}),0).toFixed(2)}}},u=l,d=(r("ea35"),r("2877")),f=r("6544"),p=r.n(f),v=r("0798"),h=r("8336"),m=r("b0af"),b=r("99d9"),g=r("62ad"),y=r("a523"),w=r("169a"),x=r("ce7e"),S=r("132d"),_=r("0fd9"),C=r("b974"),A=r("1f4f"),O=r("2fa4"),k=r("8654"),E=r("71d9"),j=r("2a7f"),T=r("3a2f"),V=Object(d["a"])(u,a,n,!1,null,"b09bddae",null);e["default"]=V.exports;p()(V,{VAlert:v["a"],VBtn:h["a"],VCard:m["a"],VCardActions:b["b"],VCol:g["a"],VContainer:y["a"],VDialog:w["a"],VDivider:x["a"],VIcon:S["a"],VRow:_["a"],VSelect:C["a"],VSimpleTable:A["a"],VSpacer:O["a"],VTextField:k["a"],VToolbar:E["a"],VToolbarTitle:j["c"],VTooltip:T["a"]})},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("861d"),o=r("e8b5"),i=r("23cb"),c=r("50c4"),s=r("fc6a"),l=r("8418"),u=r("b622"),d=r("1dde"),f=r("ae40"),p=d("slice"),v=f("slice",{ACCESSORS:!0,0:0,1:2}),h=u("species"),m=[].slice,b=Math.max;a({target:"Array",proto:!0,forced:!p||!v},{slice:function(t,e){var r,a,u,d=s(this),f=c(d.length),p=i(t,f),v=i(void 0===e?f:e,f);if(o(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[h],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(d,p,v);for(a=new(void 0===r?Array:r)(b(v-p,0)),u=0;p<v;p++,u++)p in d&&l(a,u,d[p]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-1b55f92a.3038e1c9.js.map