(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48f8f635"],{"1a47":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"container-width pa-5"},[a("ul",[a("li",[a("h2",{staticClass:"mb-3"},[t._v(" Total de Ventas: "),a("span",{staticClass:"ganancia"},[t._v("S/."+t._s(t._f("formatMoney")(t.totalSales)))])])]),a("li",[a("h2",{staticClass:"mb-3"},[t._v(" Total de Ganancias: "),a("span",{staticClass:"ganancia"},[t._v("S/."+t._s(t._f("formatMoney")(t.totalSales-t.totalSalesCost)))])])])]),a("v-container",{attrs:{fluid:""}},[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("strong",[t._v("Cantidad de ventas:")]),t._v(" "+t._s(t.$store.state.salesModule.total)+" ")]),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),a("v-simple-table",{staticClass:"custom-table",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[a("span",[t._v("Negocio")])]),a("th",{staticClass:"text-center"},[a("span",[t._v("Fecha")])]),a("th",{staticClass:"text-center"},[a("span",[t._v("Productos")])]),a("th",{staticClass:"text-center"},[a("span",[t._v("Costo")])]),a("th",{staticClass:"text-center"},[a("span",[t._v("Total de venta")])]),a("th",{staticClass:"text-center"},[a("span",[t._v("Ganancias")])])])]),a("tbody",[t._l(t.paginatedSales,(function(e){return a("tr",{key:e.name},[a("td",{staticClass:"text-center"},[a("b",[t._v(t._s(e.commerce))])]),a("td",{staticClass:"text-center"},[t._v(t._s(t._f("formatDate")(e.date)))]),a("td",{staticClass:"text-center"},[a("ul",t._l(e.products,(function(e){return a("li",{key:e._id},[t._v(t._s(e.productId?e.productId.name:"Producto eliminado")+" ("+t._s(e.qty)+" x S/."+t._s(e.salePrice)+")")])})),0)]),a("td",{staticClass:"text-center"},[t._v("S/."+t._s(t._f("formatMoney")(t.subTotalCost(e.products))))]),a("td",{staticClass:"text-center"},[t._v("S/."+t._s(t._f("formatMoney")(t.subTotalRevenue(e.products))))]),a("td",{staticClass:"text-center"},[t._v("S/."+t._s(t._f("formatMoney")(t.subTotalRevenue(e.products)-t.subTotalCost(e.products))))])])})),a("tr",[a("td",{staticClass:"text-center"}),a("td",{staticClass:"text-center"}),a("td",{staticClass:"text-center"}),a("td",{staticClass:"text-center"},[a("b",[t._v("Costo total:")]),a("span",{},[t._v("S/."+t._s(t._f("formatMoney")(t.totalSalesCost)))])]),a("td",{staticClass:"text-center"},[a("b",[t._v("Total de Ventas:")]),a("span",{},[t._v("S/."+t._s(t._f("formatMoney")(t.totalSales)))])]),a("td",{staticClass:"text-center"},[a("b",[t._v("Total de Ganancias:")]),a("span",{},[t._v("S/."+t._s(t._f("formatMoney")(t.totalSales-t.totalSalesCost)))])])])],2)]},proxy:!0}])}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},n=[],r=(a("13d5"),a("fb6a"),a("b680"),a("96cf"),a("1da1")),o=a("b166"),c={filters:{formatDate:function(t){return Object(o["a"])(new Date(t),"dd/MM/yyyy")}},data:function(){return{page:1}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loadingModule/showLoading"),e.next=3,t.$store.dispatch("salesModule/listWithProducts",{page:1,limit:9999});case 3:t.$store.dispatch("loadingModule/showLoading",!1);case 4:case"end":return e.stop()}}),e)})))()},computed:{pageCount:function(){return Math.ceil(this.sales.length/this.$store.state.itemsPerPage)},sales:function(){return this.$store.state.salesModule.sales},paginatedSales:function(){return this.sales.slice((this.page-1)*this.$store.state.itemsPerPage,this.page*this.$store.state.itemsPerPage)},totalSales:function(){return this.sales.reduce((function(t,e){return t+e.products.reduce((function(t,e){return t+e.salePrice*e.qty}),0)}),0).toFixed(2)},totalSalesCost:function(){return this.sales.reduce((function(t,e){return t+e.products.reduce((function(t,e){return t+e.purchasePrice*e.qty}),0)}),0).toFixed(2)}},methods:{subTotalRevenue:function(t){return t?t.reduce((function(t,e){return t+e.salePrice*e.qty}),0):"S/.0"},subTotalCost:function(t){return t?t.reduce((function(t,e){return t+e.purchasePrice*e.qty}),0):"S/.0"}}},i=c,l=a("2877"),u=a("6544"),d=a.n(u),f=a("62ad"),p=a("a523"),_=a("891e"),v=a("1f4f"),h=Object(l["a"])(i,s,n,!1,null,"4bb15f66",null);e["default"]=h.exports;d()(h,{VCol:f["a"],VContainer:p["a"],VPagination:_["a"],VSimpleTable:v["a"]})},fb6a:function(t,e,a){"use strict";var s=a("23e7"),n=a("861d"),r=a("e8b5"),o=a("23cb"),c=a("50c4"),i=a("fc6a"),l=a("8418"),u=a("b622"),d=a("1dde"),f=a("ae40"),p=d("slice"),_=f("slice",{ACCESSORS:!0,0:0,1:2}),v=u("species"),h=[].slice,C=Math.max;s({target:"Array",proto:!0,forced:!p||!_},{slice:function(t,e){var a,s,u,d=i(this),f=c(d.length),p=o(t,f),_=o(void 0===e?f:e,f);if(r(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(d,p,_);for(s=new(void 0===a?Array:a)(C(_-p,0)),u=0;p<_;p++,u++)p in d&&l(s,u,d[p]);return s.length=u,s}})}}]);
//# sourceMappingURL=chunk-48f8f635.ed7767b0.js.map