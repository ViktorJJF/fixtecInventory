(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d12efe40"],{"3ca3":function(e,t,a){"use strict";var r=a("6547").charAt,s=a("69f3"),i=a("7dd0"),o="String Iterator",n=s.set,c=s.getterFor(o);i(String,"String",(function(e){n(this,{type:o,string:String(e),index:0})}),(function(){var e,t=c(this),a=t.string,s=t.index;return s>=a.length?{value:void 0,done:!0}:(e=r(a,s),t.index+=e.length,{value:e,done:!1})}))},"4ccb":function(e,t,a){"use strict";t["a"]=function(){return{name:"",typeId:null,price:0,description:""}}},"4df4":function(e,t,a){"use strict";var r=a("0366"),s=a("7b0b"),i=a("9bdd"),o=a("e95a"),n=a("50c4"),c=a("8418"),l=a("35a1");e.exports=function(e){var t,a,d,u,v,p,m=s(e),f="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,g=void 0!==b,y=l(m),x=0;if(g&&(b=r(b,h>2?arguments[2]:void 0,2)),void 0==y||f==Array&&o(y))for(t=n(m.length),a=new f(t);t>x;x++)p=g?b(m[x],x):m[x],c(a,x,p);else for(u=y.call(m),v=u.next,a=new f;!(d=v.call(u)).done;x++)p=g?i(u,b,[d.value,x],!0):d.value,c(a,x,p);return a.length=x,a}},"5efb":function(e,t,a){},"631d":function(e,t,a){"use strict";t["a"]=function(){return{name:"",typeId:null,brandId:null,colorId:null,qualityId:null,stock:0,gender:null,minStock:0,purchasePrice:0,price:0,description:"",commerce:null}}},"737d":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("fd3a"),s=a("49ef"),i=a("fbb4");function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var a=Object(r["a"])(e);if(!Object(s["a"])(a))throw new RangeError("Invalid time value");var o=t||{},n=null==o.format?"extended":String(o.format),c=null==o.representation?"complete":String(o.representation);if("extended"!==n&&"basic"!==n)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==c&&"time"!==c&&"complete"!==c)throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",d="",u="extended"===n?"-":"",v="extended"===n?":":"";if("time"!==c){var p=Object(i["a"])(a.getDate(),2),m=Object(i["a"])(a.getMonth()+1,2),f=Object(i["a"])(a.getFullYear(),4);l="".concat(f).concat(u).concat(m).concat(u).concat(p)}if("date"!==c){var h=a.getTimezoneOffset();if(0!==h){var b=Math.abs(h),g=Object(i["a"])(Math.floor(b/60),2),y=Object(i["a"])(b%60,2),x=h<0?"+":"-";d="".concat(x).concat(g,":").concat(y)}else d="Z";var _=Object(i["a"])(a.getHours(),2),I=Object(i["a"])(a.getMinutes(),2),S=Object(i["a"])(a.getSeconds(),2),w=""===l?"":"T",k=[_,I,S].join(v);l="".concat(l).concat(w).concat(k).concat(d)}return l}},a630:function(e,t,a){var r=a("23e7"),s=a("4df4"),i=a("1c7e"),o=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:o},{from:s})},ad66:function(e,t,a){"use strict";var r=a("5efb"),s=a.n(r);s.a},af81:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("custom-card",{attrs:{title:"Realizar venta",icon:"mdi-plus"},scopedSlots:e._u([{key:"content",fn:function(){return[a("v-container",[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.historyMode,expression:"historyMode"}],attrs:{prominent:"",type:"error"}},[a("v-col",{staticClass:"grow"},[e._v("Aviso: Estás en el modo de ventas históricas, por lo que las ventas que registres no modificarán tu stock actual.")])],1),a("v-row",{attrs:{align:"center",dense:""}},[a("p",{staticClass:"body-1 font-weight-bold d-inline mx-3"},[e._v("Fecha:")]),a("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[a("v-text-field",{staticClass:"date-width",attrs:{outlined:"",dense:"","prepend-icon":"event",type:"date"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[a("v-select",{attrs:{items:e.commerce,label:"Selecciona el negocio",outlined:"",dense:""},model:{value:e.selectedCommerce,callback:function(t){e.selectedCommerce=t},expression:"selectedCommerce"}})],1),a("v-spacer")],1),"SOFTWARE"==e.selectedCommerce||"HARDWARE"==e.selectedCommerce?a("v-dialog",{attrs:{width:"1200"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"my-3 mr-3",attrs:{tile:"",color:"primary"}},Object.assign({},s,r)),[a("v-icon",{attrs:{left:""}},[e._v("search")]),e._v("Agregar servicio ")],1)]}}],null,!0)},[a("span",[e._v("Listado de servicios")])])]}}],null,!1,661556780),model:{value:e.dialogServices,callback:function(t){e.dialogServices=t},expression:"dialogServices"}},[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-toolbar-title",[e._v("Servicios")])],1),a("v-container",[a("services",{attrs:{selectButton:!0},on:{"add-service":e.addService}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("De acuerdo")])],1)],1)],1):a("v-dialog",{attrs:{width:"1200"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"my-3 mr-3",attrs:{tile:"",color:"primary"}},Object.assign({},s,r)),[a("v-icon",{attrs:{left:""}},[e._v("search")]),e._v("Agregar producto ")],1)]}}],null,!0)},[a("span",[e._v("Inventario")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-toolbar-title",[e._v("Productos")])],1),a("v-container",[a("products",{attrs:{selectButton:!0},on:{"add-product":e.addSale}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("De acuerdo")])],1)],1)],1),a("v-btn",{attrs:{outlined:"",color:"primary",to:{name:"salesHistory"}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-format-list-checks")]),e._v("Ver historial ")],1),"SOFTWARE"==e.selectedCommerce||"HARDWARE"==e.selectedCommerce?a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[a("span",[e._v("Tipo")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Servicio")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Costo")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Precio de servicio")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Datos del celular")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Descripción")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Eliminar servicio")])])])]),a("tbody",e._l(e.salesServices,(function(t,r){return a("tr",{key:"a"+r},[a("td",[e._v(e._s(t.serviceDetails.typeId?t.serviceDetails.typeId.name:"Sin tipo"))]),a("td",[e._v(e._s(t.serviceDetails.name))]),a("td",[a("p",{staticClass:"perdida mb-0"},[e._v("S/. "+e._s(t.cost.value))]),a("v-btn",{attrs:{color:"info",dark:"",small:""},on:{click:function(t){t.stopPropagation(),e.selectedSalesServicesIndex=r,e.dialogServiceCost=!0}}},[e._v("Detalle")])],1),a("td",[a("v-text-field",{staticClass:"inputs-width",attrs:{prefix:"S/.",type:"number"},model:{value:t.salePrice,callback:function(a){e.$set(t,"salePrice",a)},expression:"service.salePrice"}})],1),a("td",[a("ul",[a("li",[a("v-text-field",{staticClass:"inputs-width",attrs:{type:"text","hide-details":"",placeholder:"Modelo"},model:{value:t.repairedItem.itemModel,callback:function(a){e.$set(t.repairedItem,"itemModel",a)},expression:"service.repairedItem.itemModel"}})],1),a("li",[a("v-text-field",{staticClass:"inputs-width",attrs:{type:"text","hide-details":"",placeholder:"Marca"},model:{value:t.repairedItem.itemBrand,callback:function(a){e.$set(t.repairedItem,"itemBrand",a)},expression:"service.repairedItem.itemBrand"}})],1),a("li",[a("v-text-field",{staticClass:"inputs-width",attrs:{type:"text","hide-details":"",placeholder:"Tipo"},model:{value:t.repairedItem.itemType,callback:function(a){e.$set(t.repairedItem,"itemType",a)},expression:"service.repairedItem.itemType"}})],1)])]),a("td",[a("v-textarea",{staticClass:"mt-2",attrs:{outlined:"",placeholder:"Descripción"},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"service.description"}})],1),a("td",[a("v-btn",{attrs:{small:"",color:"error"},on:{click:function(t){return e.deleteService(r)}}},[e._v("Eliminar")])],1)])})),0)]},proxy:!0}],null,!1,1200211695)}):a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[a("span",[e._v("Tipo")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Producto")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Marca")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Cantidad")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Precio de compra")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Precio de venta")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Subtotal")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Eliminar producto")])])])]),a("tbody",e._l(e.sales,(function(t,r){return a("tr",{key:"a"+r},[a("td",[e._v(e._s(t.productDetails.typeId?t.productDetails.typeId.name:"Sin tipo"))]),a("td",[e._v(e._s(t.productDetails.name))]),a("td",[e._v(e._s(t.productDetails.brandId?t.productDetails.brandId.name:"Sin Marca"))]),a("td",[a("v-text-field",{staticClass:"inputs-width",attrs:{suffix:"unidades",type:"number"},model:{value:t.qty,callback:function(a){e.$set(t,"qty",a)},expression:"product.qty"}})],1),a("td",[e.editPurchasePrice?a("v-text-field",{staticClass:"inputs-width",attrs:{prefix:"S/.",type:"number"},model:{value:t.purchasePrice,callback:function(a){e.$set(t,"purchasePrice",a)},expression:"product.purchasePrice"}}):a("v-btn",{attrs:{color:"error",outlined:"",small:""},on:{click:function(t){e.editPurchasePrice=!0}}},[e._v("Editar")])],1),a("td",[a("v-text-field",{staticClass:"inputs-width",attrs:{prefix:"S/.",type:"number"},model:{value:t.salePrice,callback:function(a){e.$set(t,"salePrice",a)},expression:"product.salePrice"}})],1),a("td",[e._v("S/."+e._s((t.salePrice*t.qty).toFixed(2)))]),a("td",[a("v-btn",{attrs:{small:"",color:"error"},on:{click:function(t){return e.deleteSale(r)}}},[e._v("Eliminar")])],1)])})),0)]},proxy:!0}])}),"SOFTWARE"==e.selectedCommerce||"HARDWARE"==e.selectedCommerce?a("v-alert",{directives:[{name:"show",rawName:"v-show",value:0==e.salesServices.length,expression:"salesServices.length==0"}],staticClass:"my-5",attrs:{type:"warning",text:""}},[e._v("Aún no agregaste servicios a esta venta")]):a("v-alert",{directives:[{name:"show",rawName:"v-show",value:0==e.sales.length,expression:"sales.length==0"}],staticClass:"my-5",attrs:{type:"warning",text:""}},[e._v("Aún no agregaste productos a esta venta")]),a("v-row",{staticClass:"mr-3 mb-3",attrs:{justify:"end"}},[a("v-card",{staticClass:"pa-3",attrs:{dark:"",outlined:"",color:"info"}},[a("strong",{staticClass:"text--white"},[e._v("Total:")]),e._v(" "),a("span",{staticClass:"total"},[e._v("S/."+e._s(e.getTotal))])])],1),"SOFTWARE"==e.selectedCommerce||"HARDWARE"==e.selectedCommerce?a("v-btn",{attrs:{loading:e.loadingButton,color:"success"},on:{click:function(t){return e.saveSaleService(e.salesServices,e.date,e.selectedCommerce)}}},[e._v("Terminar venta de servicio")]):a("v-btn",{attrs:{loading:e.loadingButton,color:"success"},on:{click:function(t){return e.saveSale(e.sales,e.date,e.selectedCommerce)}}},[e._v("Terminar venta")])],1),null!==e.selectedSalesServicesIndex?a("v-dialog",{attrs:{width:"500"},model:{value:e.dialogServiceCost,callback:function(t){e.dialogServiceCost=t},expression:"dialogServiceCost"}},[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-toolbar-title",[e._v("Detalles del costo del servicio")])],1),a("v-container",{staticClass:"pa-3"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("span",{staticClass:"body-1 font-weight-bold"},[e._v("Costo (productos)")]),a("v-dialog",{attrs:{width:"1200"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"ml-3",attrs:{color:"primary",small:""}},Object.assign({},s,r)),[a("v-icon",{attrs:{left:""}},[e._v("search")]),e._v("Agregar ")],1)]}}],null,!0)},[a("span",[e._v("Listado de productos")])])]}}],null,!1,3775557751),model:{value:e.dialogCostProduct,callback:function(t){e.dialogCostProduct=t},expression:"dialogCostProduct"}},[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-toolbar-title",[e._v("Productos")])],1),a("v-container",[a("products",{attrs:{selectButton:!0},on:{"add-product":e.addServiceCost}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialogCostProduct=!1}}},[e._v("De acuerdo")])],1)],1)],1),a("v-simple-table",{staticClass:"custom-table mt-3",scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[a("span",[e._v("Tipo")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Producto")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Marca")])]),a("th",{staticClass:"text-left"},[a("span",[e._v("Acciones")])])])]),a("tbody",e._l(e.salesServices[e.selectedSalesServicesIndex].cost.products,(function(t,r){return a("tr",{key:r+t},[a("td",[e._v(e._s(e.$store.getters["productsModule/productById"](t).typeId.name))]),a("td",[e._v(e._s(e.$store.getters["productsModule/productById"](t).name))]),a("td",[e._v(e._s(e.$store.getters["productsModule/productById"](t).brandId.name))]),a("td",[a("v-btn",{attrs:{color:"error","x-small":""},on:{click:function(a){e.deleteCostProduct(r,e.$store.getters["productsModule/productById"](t))}}},[e._v("Eliminar")])],1)])})),0)]},proxy:!0}],null,!1,1074963302)})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("p",{staticClass:"body-1 font-weight-bold"},[e._v("Costo total del servicio")]),a("v-text-field",{attrs:{outlined:"",dense:"",prefix:"S/.",type:"number"},model:{value:e.salesServices[e.selectedSalesServicesIndex].cost.value,callback:function(t){e.$set(e.salesServices[e.selectedSalesServicesIndex].cost,"value",t)},expression:"salesServices[selectedSalesServicesIndex].cost.value"}})],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialogServiceCost=!1}}},[e._v("Listo")])],1)],1)],1):e._e()]},proxy:!0}])})},s=[],i=(a("13d5"),a("a434"),a("b680"),a("b85c")),o=(a("96cf"),a("1da1")),n=a("e2f0"),c=a("d101"),l=a("737d"),d={components:{services:n["a"],products:c["a"]},data:function(){return{dialogCostProduct:null,dialogServiceCost:null,dialog:null,dialogServices:null,selectedCommerce:"",editPurchasePrice:!1,historyMode:!1,selectedSalesServicesIndex:null,selectedProduct:null,date:Object(l["a"])(new Date,{representation:"date"}),menu:!1,sales:[],salesServices:[],total:0,productsLoading:!1,servicesLoading:!1,loadingButton:!1}},methods:{deleteCostProduct:function(e,t){this.salesServices[this.selectedSalesServicesIndex].cost.products.splice(e,1),this.salesServices[this.selectedSalesServicesIndex].cost.value=parseFloat(this.salesServices[this.selectedSalesServicesIndex].cost.value)-t.purchasePrice},deleteSale:function(e){this.sales.splice(e,1)},deleteService:function(e){this.salesServices.splice(e,1)},addSale:function(e){e&&(this.sales.push({productDetails:e,productId:e._id,qty:1,purchasePrice:e.purchasePrice,salePrice:e.price,history:this.historyMode}),this.dialog=!1)},addServiceCost:function(e){if(this.dialogCostProduct=!1,0===e.stock)return this.$store.commit("errorModule/error","Ese producto no tiene stock 0");this.salesServices[this.selectedSalesServicesIndex].cost.products.push(e._id),this.salesServices[this.selectedSalesServicesIndex].cost.value=parseFloat(this.salesServices[this.selectedSalesServicesIndex].cost.value)+e.purchasePrice},addService:function(e){e&&(this.salesServices.push({serviceId:e._id,serviceDetails:e,cost:{products:[],value:0},salePrice:e.price,repairedItem:{itemModel:"",itemType:"",itemBrand:""},description:"",history:this.historyMode}),this.dialogServices=!1)},saveSale:function(e,t,a){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var o,n,c,l,d,u,v,p,m,f,h,b;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:r.loadingButton=!0,e=r.$deepCopy(e),o=Object(i["a"])(e);try{for(o.s();!(n=o.n()).done;)c=n.value,delete c["productDetails"]}catch(g){o.e(g)}finally{o.f()}if(r.historyMode){l=Object(i["a"])(e);try{for(l.s();!(d=l.n()).done;)u=d.value,u.history=!0}catch(g){l.e(g)}finally{l.f()}}else{v=Object(i["a"])(e);try{for(v.s();!(p=v.n()).done;)m=p.value,m.history=!1}catch(g){v.e(g)}finally{v.f()}}return s.prev=5,t=new Date(t),t=new Date(t.getTime()- -6e4*t.getTimezoneOffset()),s.next=10,r.$store.dispatch("salesModule/create",{history:r.historyMode,products:e,date:t,commerce:a});case 10:f=Object(i["a"])(e);try{for(f.s();!(h=f.n()).done;)b=h.value,b.history||r.$store.commit("productsModule/updateStock",{productId:b.productId,qty:-b.qty})}catch(g){f.e(g)}finally{f.f()}r.sales=[];case 13:return s.prev=13,r.loadingButton=!1,s.finish(13);case 16:case"end":return s.stop()}}),s,null,[[5,,13,16]])})))()},saveSaleService:function(e,t,a){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var o,n,c,l,d,u,v,p,m,f,h,b,g,y,x;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:r.loadingButton=!0,e=r.$deepCopy(e),o=Object(i["a"])(e);try{for(o.s();!(n=o.n()).done;)c=n.value,delete c["serviceDetails"]}catch(_){o.e(_)}finally{o.f()}if(r.historyMode){l=Object(i["a"])(e);try{for(l.s();!(d=l.n()).done;)u=d.value,u.history=!0}catch(_){l.e(_)}finally{l.f()}}else{v=Object(i["a"])(e);try{for(v.s();!(p=v.n()).done;)m=p.value,m.history=!1}catch(_){v.e(_)}finally{v.f()}}return s.prev=5,t=new Date(t),t=new Date(t.getTime()- -6e4*t.getTimezoneOffset()),s.next=10,r.$store.dispatch("salesServicesModule/create",{history:r.historyMode,services:e,date:t,commerce:a});case 10:f=Object(i["a"])(e);try{for(f.s();!(h=f.n()).done;){b=h.value,g=Object(i["a"])(b.cost.products);try{for(g.s();!(y=g.n()).done;)x=y.value,r.$store.commit("productsModule/updateStock",{productId:x,qty:-1})}catch(_){g.e(_)}finally{g.f()}}}catch(_){f.e(_)}finally{f.f()}r.salesServices=[],r.selectedSalesServicesIndex=null;case 14:return s.prev=14,r.loadingButton=!1,s.finish(14);case 17:case"end":return s.stop()}}),s,null,[[5,,14,17]])})))()}},computed:{products:function(){return this.$store.state.productsModule.products},services:function(){return this.$store.state.servicesModule.services},getTotal:function(){return"SOFTWARE"===this.selectedCommerce||"HARDWARE"===this.selectedCommerce?this.salesServices.reduce((function(e,t){return e+parseFloat(t.salePrice)}),0).toFixed(2):this.sales.reduce((function(e,t){return e+t.salePrice*t.qty}),0).toFixed(2)},commerce:function(){return this.$store.state.commerce}}},u=d,v=(a("ad66"),a("2877")),p=a("6544"),m=a.n(p),f=a("0798"),h=a("8336"),b=a("b0af"),g=a("99d9"),y=a("62ad"),x=a("a523"),_=a("169a"),I=a("ce7e"),S=a("132d"),w=a("0fd9"),k=a("b974"),C=a("1f4f"),T=a("2fa4"),$=a("8654"),O=a("a844"),A=a("71d9"),P=a("2a7f"),B=a("3a2f"),M=Object(v["a"])(u,r,s,!1,null,"87d4d092",null);t["default"]=M.exports;m()(M,{VAlert:f["a"],VBtn:h["a"],VCard:b["a"],VCardActions:g["b"],VCol:y["a"],VContainer:x["a"],VDialog:_["a"],VDivider:I["a"],VIcon:S["a"],VRow:w["a"],VSelect:k["a"],VSimpleTable:C["a"],VSpacer:T["a"],VTextField:$["a"],VTextarea:O["a"],VToolbar:A["a"],VToolbarTitle:P["c"],VTooltip:B["a"]})},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0"),a("a630"),a("fb6a"),a("b0c0"),a("25f0");function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function s(e,t){if(e){if("string"===typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}function i(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=s(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return n=e.done,e},e:function(e){c=!0,o=e},f:function(){try{n||null==a["return"]||a["return"]()}finally{if(c)throw o}}}}},d101:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{attrs:{"no-results-text":"No se encontraron resultados",search:e.search,"hide-default-footer":"",headers:e.headers,items:e.filteredProducts,page:e.page,"items-per-page":e.$store.state.itemsPerPage},on:{"page-count":function(t){e.pageCount=t},"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Filtrar por modelo: "+e._s(e.search))]),a("v-text-field",{attrs:{dense:"","hide-details":"","append-icon":"search",placeholder:"Escribe el nombre del producto","single-line":"",outlined:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Filtrar por tipo:")]),a("v-select",{attrs:{clearable:"","hide-details":"",dense:"",placeholder:"Selecciona un tipo",items:e.types,"item-text":"name","item-value":"_id",outlined:""},on:{"click:clear":function(t){return e.showAllTypes()}},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Filtrar por marca:")]),a("v-select",{attrs:{clearable:"","hide-details":"",dense:"",placeholder:"Selecciona una marca",items:e.brands,"item-text":"name","item-value":"_id",outlined:""},on:{"click:clear":function(t){return e.showAllBrands()}},model:{value:e.selectedBrand,callback:function(t){e.selectedBrand=t},expression:"selectedBrand"}})],1)],1)],1),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.selectButton,expression:"!selectButton"}],staticClass:"mr-3 mb-2",attrs:{small:"",color:"secondary"},on:{click:function(t){return e.editItem(r)}}},[e._v("Editar")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.selectButton,expression:"!selectButton"}],staticClass:"mb-2",attrs:{small:"",color:"error"},on:{click:function(t){return e.deleteItem(r)}}},[e._v("Eliminar")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.selectButton,expression:"selectButton"}],attrs:{color:"info"},on:{click:function(t){return e.$emit("add-product",r)}}},[e._v("Agregar")])]}},{key:"item.stock",fn:function(t){var r=t.item;return[e._v(" "+e._s(r.stock)+" "),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:r.stock>=r.minStock,expression:"item.stock>=item.minStock"}],attrs:{color:"green"}},[e._v("mdi-checkbox-marked-circle")]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-icon",e._g({directives:[{name:"show",rawName:"v-show",value:r.stock<r.minStock,expression:"item.stock<item.minStock"}],attrs:{color:"error"}},s),[e._v("mdi-alert-circle")])]}}],null,!0)},[a("span",[e._v("Stock por agotarse")])])]}},{key:"item.createdAt",fn:function(t){var a=t.item;return[e._v(e._s(e._f("formatDate")(a.createdAt)))]}},{key:"item.purchasePrice",fn:function(t){var a=t.item;return[e._v("S/."+e._s(a.purchasePrice))]}},{key:"item.price",fn:function(t){var a=t.item;return[e._v("S/."+e._s(a.price))]}},{key:"item.brandId",fn:function(t){var a=t.item;return[e._v(e._s(a.brandId?a.brandId.name:"Sin marca"))]}},{key:"item.typeId",fn:function(t){var a=t.item;return[e._v(e._s(a.typeId?a.typeId.name:"Sin tipo"))]}},{key:"item.colorId",fn:function(t){var a=t.item;return[e._v(e._s(a.colorId?a.colorId.name:"Sin color"))]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{type:"error",value:!0}},[e._v("No se encontraron datos")])]},proxy:!0}])}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:e.pageCount},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-divider"),a("v-container",{staticClass:"pa-5"},[a("v-alert",{attrs:{text:"",type:"error",value:e.validateError}},[e._v("Es necesario colocar el nombre del modelo")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Nombre")]),a("v-text-field",{attrs:{dense:"","hide-details":"",outlined:"",placeholder:"Nombre del modelo"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Negocio")]),a("v-select",{attrs:{items:e.commerce,label:"Selecciona el negocio",outlined:"",dense:""},model:{value:e.editedItem.commerce,callback:function(t){e.$set(e.editedItem,"commerce",t)},expression:"editedItem.commerce"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Tipo")]),a("v-select",{attrs:{dense:"","hide-details":"",items:e.types,"item-text":"name","item-value":"_id",outlined:""},model:{value:e.editedItem.typeId,callback:function(t){e.$set(e.editedItem,"typeId",t)},expression:"editedItem.typeId"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Marca")]),a("v-select",{attrs:{dense:"","hide-details":"",items:e.brands,"item-text":"name","item-value":"_id",outlined:""},model:{value:e.editedItem.brandId,callback:function(t){e.$set(e.editedItem,"brandId",t)},expression:"editedItem.brandId"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Color")]),a("v-select",{attrs:{dense:"","hide-details":"",items:e.colors,"item-text":"name","item-value":"_id",outlined:""},model:{value:e.editedItem.colorId,callback:function(t){e.$set(e.editedItem,"colorId",t)},expression:"editedItem.colorId"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Calidad")]),a("v-select",{attrs:{dense:"","hide-details":"",placeholder:"Selecciona una calidad","item-text":"name","item-value":"_id",items:e.qualities,loading:e.qualitiesLoading,outlined:""},on:{click:e.getQualities},scopedSlots:e._u([{key:"no-data",fn:function(){return[e.qualitiesLoading?a("v-container",{staticClass:"text-center",attrs:{fluid:""}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e._e()]},proxy:!0}]),model:{value:e.editedItem.qualityId,callback:function(t){e.$set(e.editedItem,"qualityId",t)},expression:"editedItem.qualityId"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Género")]),a("v-select",{attrs:{dense:"","hide-details":"",placeholder:"Selecciona un género","item-text":"name","item-value":"value",items:e.genders,outlined:""},model:{value:e.editedItem.gender,callback:function(t){e.$set(e.editedItem,"gender",t)},expression:"editedItem.gender"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Precio de Compra")]),a("v-text-field",{attrs:{prefix:"S/.",dense:"","hide-details":"",outlined:"",type:"number"},model:{value:e.editedItem.purchasePrice,callback:function(t){e.$set(e.editedItem,"purchasePrice",t)},expression:"editedItem.purchasePrice"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Precio de venta")]),a("v-text-field",{attrs:{prefix:"S/.",dense:"","hide-details":"",outlined:"",type:"number"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Stock")]),a("v-text-field",{attrs:{suffix:"unidades",dense:"","hide-details":"",outlined:"",type:"number"},model:{value:e.editedItem.stock,callback:function(t){e.$set(e.editedItem,"stock",t)},expression:"editedItem.stock"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Stock mínimo")]),a("v-text-field",{attrs:{suffix:"unidades",dense:"","hide-details":"",outlined:"",type:"number"},model:{value:e.editedItem.minStock,callback:function(t){e.$set(e.editedItem,"minStock",t)},expression:"editedItem.minStock"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Descripción")]),a("v-textarea",{attrs:{dense:"","hide-details":"",placeholder:"Ingresa una descripción",outlined:""},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{outlined:"",color:"error",text:""},on:{click:e.close}},[e._v("Cancelar")]),a("v-btn",{attrs:{loading:e.loadingButton,color:"success"},on:{click:e.save}},[e._v("Guardar")])],1)],1)],1)],1)},s=[],i=(a("4de4"),a("c975"),a("a434"),a("96cf"),a("1da1")),o=a("b166"),n=a("631d"),c={props:{selectButton:{type:Boolean,default:!1}},filters:{formatDate:function(e){return Object(o["a"])(new Date(e),"dd/MM/yyyy")}},data:function(){return{genders:[{id:1,name:"Masculino",value:"M"},{id:2,name:"Femenino",value:"F"}],page:1,pageCount:0,loadingButton:!1,qualitiesLoading:!1,validateError:!1,search:"",dialog:!1,selectedType:null,selectedBrand:null,headers:[{text:"Nombre",value:"name"},{text:"Tipo",value:"typeId",filterable:!1},{text:"Marca",value:"brandId",filterable:!1},{text:"Color",value:"colorId",filterable:!1},{text:"Stock",value:"stock",filterable:!1},{text:"Precio de compra",value:"purchasePrice",filterable:!1},{text:"Precio de venta",value:"price",filterable:!1},{text:"Agregado",align:"left",sortable:!0,value:"createdAt"},{text:"Acciones",value:"action",sortable:!1}],products:[],editedIndex:-1,editedItem:Object(n["a"])(),defaultItem:Object(n["a"])()}},computed:{formTitle:function(){return"Editar producto"},brands:function(){return this.$store.state.brandsModule.brands},types:function(){return this.$store.state.typesModule.types},colors:function(){return this.$store.state.colorsModule.colors},qualities:function(){return this.$store.state.qualitiesModule.qualities},filteredProducts:function(){var e=this;return this.selectedType||this.selectedBrand?this.products.filter((function(t){return(!e.selectedType||(t.typeId?t.typeId._id===e.selectedType:null))&&(!e.selectedBrand||(t.brandId?t.brandId._id===e.selectedBrand:null))})):this.products},commerce:function(){return this.$store.state.commerce}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.products=this.$deepCopy(this.$store.state.productsModule.products)},showAllTypes:function(){this.selectedType=null},showAllBrands:function(){this.selectedBrand=null},editItem:function(e){this.editedIndex=this.products.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.products.indexOf(e),s=t.products[r]._id,a.next=4,t.$confirm("¿Realmente deseas eliminar este registro?");case 4:if(!a.sent){a.next=8;break}return a.next=7,t.$store.dispatch("productsModule/delete",s);case 7:t.products.splice(r,1);case 8:case"end":return a.stop()}}),a)})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},validateForm:function(){return this.editedItem.model?(this.validateError=!1,!0):(this.validateError=!0,!1)},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loadingButton=!0,!(e.editedIndex>-1)){t.next=12;break}return a=e.products[e.editedIndex]._id,t.prev=3,t.next=6,e.$store.dispatch("productsModule/update",{id:a,data:e.editedItem});case 6:r=t.sent,Object.assign(e.products[e.editedIndex],r),e.close();case 9:return t.prev=9,e.loadingButton=!1,t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[3,,9,12]])})))()},getQualities:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.qualities.length){t.next=8;break}return e.qualitiesLoading=!0,t.prev=2,t.next=5,e.$store.dispatch("qualitiesModule/list");case 5:return t.prev=5,e.qualitiesLoading=!1,t.finish(5);case 8:case"end":return t.stop()}}),t,null,[[2,,5,8]])})))()}}},l=c,d=a("2877"),u=a("6544"),v=a.n(u),p=a("0798"),m=a("8336"),f=a("b0af"),h=a("99d9"),b=a("62ad"),g=a("a523"),y=a("8fea"),x=a("169a"),_=a("ce7e"),I=a("132d"),S=a("891e"),w=a("490a"),k=a("0fd9"),C=a("b974"),T=a("8654"),$=a("a844"),O=a("3a2f"),A=Object(d["a"])(l,r,s,!1,null,"abf77812",null);t["a"]=A.exports;v()(A,{VAlert:p["a"],VBtn:m["a"],VCard:f["a"],VCardActions:h["b"],VCardTitle:h["e"],VCol:b["a"],VContainer:g["a"],VDataTable:y["a"],VDialog:x["a"],VDivider:_["a"],VIcon:I["a"],VPagination:S["a"],VProgressCircular:w["a"],VRow:k["a"],VSelect:C["a"],VTextField:T["a"],VTextarea:$["a"],VTooltip:O["a"]})},d28b:function(e,t,a){var r=a("746f");r("iterator")},e01a:function(e,t,a){"use strict";var r=a("23e7"),s=a("83ab"),i=a("da84"),o=a("5135"),n=a("861d"),c=a("9bf2").f,l=a("e893"),d=i.Symbol;if(s&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof v?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};l(v,d);var p=v.prototype=d.prototype;p.constructor=v;var m=p.toString,f="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=n(this)?this.valueOf():this,t=m.call(e);if(o(u,e))return"";var a=f?t.slice(7,-1):t.replace(h,"$1");return""===a?void 0:a}}),r({global:!0,forced:!0},{Symbol:v})}},e2f0:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-data-table",{attrs:{"no-results-text":"No se encontraron resultados",search:e.search,"hide-default-footer":"",headers:e.headers,items:e.filteredServices,page:e.page,"items-per-page":e.$store.state.itemsPerPage},on:{"page-count":function(t){e.pageCount=t},"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Filtrar por nombre: "+e._s(e.search))]),a("v-text-field",{attrs:{dense:"","hide-details":"","append-icon":"search",placeholder:"Escribe el nombre del servicio","single-line":"",outlined:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Filtrar por tipo:")]),a("v-select",{attrs:{clearable:"","hide-details":"",dense:"",placeholder:"Selecciona un tipo",items:e.types,"item-text":"name","item-value":"_id",outlined:""},on:{"click:clear":function(t){return e.showAllTypes()}},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)],1)],1),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.selectButton,expression:"!selectButton"}],staticClass:"mr-3 mb-2",attrs:{small:"",color:"secondary"},on:{click:function(t){return e.editItem(r)}}},[e._v("Editar")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.selectButton,expression:"!selectButton"}],staticClass:"mb-2",attrs:{small:"",color:"error"},on:{click:function(t){return e.deleteItem(r)}}},[e._v("Eliminar")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.selectButton,expression:"selectButton"}],attrs:{color:"info"},on:{click:function(t){return e.$emit("add-service",r)}}},[e._v("Agregar")])]}},{key:"item.createdAt",fn:function(t){var a=t.item;return[e._v(e._s(e._f("formatDate")(a.createdAt)))]}},{key:"item.typeId",fn:function(t){var a=t.item;return[e._v(e._s(a.typeId?a.typeId.name:"Sin tipo"))]}},{key:"item.price",fn:function(t){var a=t.item;return[e._v("S/."+e._s(a.price))]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{type:"error",value:!0}},[e._v("No se encontraron datos")])]},proxy:!0}])}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:e.pageCount},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-divider"),a("v-container",{staticClass:"pa-5"},[a("v-alert",{attrs:{text:"",type:"error",value:e.validateError}},[e._v("Es necesario colocar el nombre del modelo")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Nombre")]),a("v-text-field",{attrs:{dense:"","hide-details":"",outlined:"",placeholder:"Nombre del modelo"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Tipo")]),a("v-select",{attrs:{dense:"","hide-details":"",items:e.types,"item-text":"name","item-value":"_id",outlined:""},model:{value:e.editedItem.typeId,callback:function(t){e.$set(e.editedItem,"typeId",t)},expression:"editedItem.typeId"}})],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Precio del servicio")]),a("v-text-field",{attrs:{prefix:"S/.",dense:"","hide-details":"",outlined:"",type:"number"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("span",{staticClass:"font-weight-bold"},[e._v("Descripción")]),a("v-textarea",{attrs:{dense:"","hide-details":"",placeholder:"Ingresa una descripción",outlined:""},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{outlined:"",color:"error",text:""},on:{click:e.close}},[e._v("Cancelar")]),a("v-btn",{attrs:{loading:e.loadingButton,color:"success"},on:{click:e.save}},[e._v("Guardar")])],1)],1)],1)],1)},s=[],i=(a("4de4"),a("c975"),a("a434"),a("96cf"),a("1da1")),o=a("b166"),n=a("4ccb"),c={props:{selectButton:{type:Boolean,default:!1}},filters:{formatDate:function(e){return Object(o["a"])(new Date(e),"dd/MM/yyyy")}},data:function(){return{page:1,pageCount:0,loadingButton:!1,qualitiesLoading:!1,validateError:!1,search:"",dialog:!1,selectedType:null,selectedBrand:null,headers:[{text:"Nombre",value:"name"},{text:"Tipo",value:"typeId",filterable:!1},{text:"Precio del servicio",value:"price",filterable:!1},{text:"Agregado",align:"left",sortable:!0,value:"createdAt"},{text:"Acciones",value:"action",sortable:!1}],services:[],editedIndex:-1,editedItem:Object(n["a"])(),defaultItem:Object(n["a"])()}},computed:{formTitle:function(){return"Editar Servicio"},types:function(){return this.$store.state.typesModule.types},filteredServices:function(){var e=this;return this.selectedType?this.services.filter((function(t){return t.typeId?t.typeId._id===e.selectedType:null})):this.services}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initialize();case 2:case"end":return t.stop()}}),t)})))()},watch:{dialog:function(e){e||this.close()}},methods:{initialize:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.services=e.$deepCopy(e.$store.state.servicesModule.services);case 1:case"end":return t.stop()}}),t)})))()},showAllTypes:function(){this.selectedType=null},showAllBrands:function(){this.selectedBrand=null},editItem:function(e){this.editedIndex=this.services.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.services.indexOf(e),s=t.services[r]._id,a.next=4,t.$confirm("¿Realmente deseas eliminar este registro?");case 4:if(!a.sent){a.next=8;break}return a.next=7,t.$store.dispatch("servicesModule/delete",s);case 7:t.services.splice(r,1);case 8:case"end":return a.stop()}}),a)})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},validateForm:function(){return this.editedItem.model?(this.validateError=!1,!0):(this.validateError=!0,!1)},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loadingButton=!0,!(e.editedIndex>-1)){t.next=12;break}return a=e.services[e.editedIndex]._id,t.prev=3,t.next=6,e.$store.dispatch("servicesModule/update",{id:a,data:e.editedItem});case 6:r=t.sent,Object.assign(e.services[e.editedIndex],r),e.close();case 9:return t.prev=9,e.loadingButton=!1,t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[3,,9,12]])})))()},getQualities:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.qualities.length){t.next=8;break}return e.qualitiesLoading=!0,t.prev=2,t.next=5,e.$store.dispatch("qualitiesModule/list");case 5:return t.prev=5,e.qualitiesLoading=!1,t.finish(5);case 8:case"end":return t.stop()}}),t,null,[[2,,5,8]])})))()}}},l=c,d=a("2877"),u=a("6544"),v=a.n(u),p=a("0798"),m=a("8336"),f=a("b0af"),h=a("99d9"),b=a("62ad"),g=a("a523"),y=a("8fea"),x=a("169a"),_=a("ce7e"),I=a("891e"),S=a("0fd9"),w=a("b974"),k=a("8654"),C=a("a844"),T=Object(d["a"])(l,r,s,!1,null,"3c7420ba",null);t["a"]=T.exports;v()(T,{VAlert:p["a"],VBtn:m["a"],VCard:f["a"],VCardActions:h["b"],VCardTitle:h["e"],VCol:b["a"],VContainer:g["a"],VDataTable:y["a"],VDialog:x["a"],VDivider:_["a"],VPagination:I["a"],VRow:S["a"],VSelect:w["a"],VTextField:k["a"],VTextarea:C["a"]})},fb6a:function(e,t,a){"use strict";var r=a("23e7"),s=a("861d"),i=a("e8b5"),o=a("23cb"),n=a("50c4"),c=a("fc6a"),l=a("8418"),d=a("b622"),u=a("1dde"),v=a("ae40"),p=u("slice"),m=v("slice",{ACCESSORS:!0,0:0,1:2}),f=d("species"),h=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!p||!m},{slice:function(e,t){var a,r,d,u=c(this),v=n(u.length),p=o(e,v),m=o(void 0===t?v:t,v);if(i(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?s(a)&&(a=a[f],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(u,p,m);for(r=new(void 0===a?Array:a)(b(m-p,0)),d=0;p<m;p++,d++)p in u&&l(r,d,u[p]);return r.length=d,r}})}}]);
//# sourceMappingURL=chunk-d12efe40.9fe569b5.js.map