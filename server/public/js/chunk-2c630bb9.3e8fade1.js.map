{"version":3,"sources":["webpack:///./src/views/drawerPages/ReportPurchases.vue?d8c4","webpack:///src/views/drawerPages/ReportPurchases.vue","webpack:///./src/views/drawerPages/ReportPurchases.vue?211a","webpack:///./src/views/drawerPages/ReportPurchases.vue?1ca1","webpack:///./src/views/drawerPages/ReportPurchases.vue?9387"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","_f","totalPurchases","attrs","scopedSlots","_u","key","fn","_l","item","name","commerce","date","userId","email","productDetail","_id","productId","qty","purchasePrice","totalRevenue","products","proxy","staticRenderFns","filters","formatDate","data","computed","purchases","$store","state","purchasesModule","methods","purchasesDetail","component","VContainer","VSimpleTable"],"mappings":"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","file":"js/chunk-2c630bb9.3e8fade1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"container-width pa-5\"},[_c('h1',{staticClass:\"mb-3\"},[_vm._v(\" Total de compras: \"),_c('span',{},[_vm._v(\"S/.\"+_vm._s(_vm._f(\"formatMoney\")(_vm.totalPurchases)))])]),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-simple-table',{staticClass:\"custom-table\",scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Negocio\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Fecha\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Vendedor\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Productos\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Total de compra\")])])])]),_c('tbody',[_vm._l((_vm.purchases),function(item){return _c('tr',{key:item.name},[_c('td',{staticClass:\"text-center\"},[_c('b',[_vm._v(_vm._s(item.commerce))])]),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(item.date)))]),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(item.userId.email))]),_c('td',{staticClass:\"text-center\"},[_c('ul',_vm._l((item.products),function(productDetail){return _c('li',{key:productDetail._id},[_vm._v(_vm._s(productDetail.productId?productDetail.productId.name:'Producto eliminado')+\" (\"+_vm._s(productDetail.qty)+\" x S/.\"+_vm._s(productDetail.purchasePrice)+\")\")])}),0)]),_c('td',{staticClass:\"text-center\"},[_vm._v(\"S/.\"+_vm._s(_vm.totalRevenue(item.products)))])])}),_c('tr',[_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"},[_c('b',[_vm._v(\"Total de Compras:\")]),_c('span',{},[_vm._v(\"S/.\"+_vm._s(_vm.totalPurchases))])])])],2)]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"container-width pa-5\">\r\n    <h1 class=\"mb-3\">\r\n      Total de compras:\r\n      <span class>S/.{{totalPurchases | formatMoney}}</span>\r\n    </h1>\r\n    <v-container fluid>\r\n      <v-simple-table class=\"custom-table\">\r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-center\">\r\n                <span>Negocio</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Fecha</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Vendedor</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Productos</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Total de compra</span>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in purchases\" :key=\"item.name\">\r\n              <td class=\"text-center\">\r\n                <b>{{ item.commerce }}</b>\r\n              </td>\r\n              <td class=\"text-center\">{{ item.date | formatDate }}</td>\r\n              <td class=\"text-center\">{{ item.userId.email }}</td>\r\n              <td class=\"text-center\">\r\n                <ul>\r\n                  <li\r\n                    v-for=\"productDetail in item.products\"\r\n                    :key=\"productDetail._id\"\r\n                  >{{productDetail.productId?productDetail.productId.name:'Producto eliminado'}} ({{productDetail.qty}} x S/.{{productDetail.purchasePrice}})</li>\r\n                </ul>\r\n              </td>\r\n              <td class=\"text-center\">S/.{{totalRevenue(item.products)}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\">\r\n                <b>Total de Compras:</b>\r\n                <span class>S/.{{totalPurchases}}</span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </template>\r\n      </v-simple-table>\r\n    </v-container>\r\n  </v-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { format } from \"date-fns\";\r\nexport default {\r\n  filters: {\r\n    formatDate: function (value) {\r\n      return format(new Date(value), \"dd/MM/yyyy\");\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  async mounted() {\r\n    this.$store.getters[\"purchasesModule/purchasesWithProductsPopulated\"];\r\n    this.$store.dispatch(\"loadingModule/showLoading\");\r\n    await this.$store.dispatch(\"purchasesModule/listWithProducts\", {\r\n      page: 1,\r\n      limit: 9999,\r\n    });\r\n    this.$store.dispatch(\"loadingModule/showLoading\", false);\r\n  },\r\n  computed: {\r\n    purchases() {\r\n      return this.$store.state.purchasesModule.purchases;\r\n    },\r\n    totalPurchases() {\r\n      return this.purchases\r\n        .reduce(\r\n          (a, b) =>\r\n            a + b.products.reduce((c, d) => c + d.purchasePrice * d.qty, 0),\r\n          0\r\n        )\r\n        .toFixed(2);\r\n    },\r\n  },\r\n  methods: {\r\n    totalRevenue(purchasesDetail) {\r\n      if (purchasesDetail)\r\n        return purchasesDetail\r\n          .reduce((a, b) => a + b.purchasePrice * b.qty, 0)\r\n          .toFixed(2);\r\n      else return \"S/.0\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container-width {\r\n  width: 1500px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportPurchases.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportPurchases.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportPurchases.vue?vue&type=template&id=3514c124&scoped=true&\"\nimport script from \"./ReportPurchases.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportPurchases.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReportPurchases.vue?vue&type=style&index=0&id=3514c124&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3514c124\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VContainer,VSimpleTable})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportPurchases.vue?vue&type=style&index=0&id=3514c124&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportPurchases.vue?vue&type=style&index=0&id=3514c124&lang=scss&scoped=true&\""],"sourceRoot":""}