{"version":3,"sources":["webpack:///./src/views/drawerPages/ReportSales.vue?62eb","webpack:///src/views/drawerPages/ReportSales.vue","webpack:///./src/views/drawerPages/ReportSales.vue?545a","webpack:///./src/views/drawerPages/ReportSales.vue?e2fc","webpack:///./src/views/drawerPages/ReportSales.vue?0d12"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","_f","totalSales","totalSalesCost","attrs","scopedSlots","_u","key","fn","_l","item","name","commerce","date","userId","email","productDetail","_id","productId","qty","salePrice","subTotalCost","products","subTotalRevenue","proxy","staticRenderFns","filters","formatDate","data","computed","sales","$store","state","salesModule","methods","salesDetail","component","VContainer","VSimpleTable"],"mappings":"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","file":"js/chunk-1b839fdd.fcbfc528.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"container-width pa-5\"},[_c('ul',[_c('li',[_c('h2',{staticClass:\"mb-3\"},[_vm._v(\" Total de Ventas: \"),_c('span',{staticClass:\"ganancia\"},[_vm._v(\"S/.\"+_vm._s(_vm._f(\"formatMoney\")(_vm.totalSales)))])])]),_c('li',[_c('h2',{staticClass:\"mb-3\"},[_vm._v(\" Total de Ganancias: \"),_c('span',{staticClass:\"ganancia\"},[_vm._v(\"S/.\"+_vm._s(_vm._f(\"formatMoney\")((_vm.totalSales-_vm.totalSalesCost))))])])])]),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-simple-table',{staticClass:\"custom-table\",scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Negocio\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Fecha\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Vendedor\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Productos\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Costo\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Total de venta\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Ganancias\")])])])]),_c('tbody',[_vm._l((_vm.sales),function(item){return _c('tr',{key:item.name},[_c('td',{staticClass:\"text-center\"},[_c('b',[_vm._v(_vm._s(item.commerce))])]),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(item.date)))]),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(item.userId.email))]),_c('td',{staticClass:\"text-center\"},[_c('ul',_vm._l((item.products),function(productDetail){return _c('li',{key:productDetail._id},[_vm._v(_vm._s(productDetail.productId?productDetail.productId.name:'Producto eliminado')+\" (\"+_vm._s(productDetail.qty)+\" x S/.\"+_vm._s(productDetail.salePrice)+\")\")])}),0)]),_c('td',{staticClass:\"text-center\"},[_vm._v(\"S/.\"+_vm._s(_vm._f(\"formatMoney\")(_vm.subTotalCost(item.products))))]),_c('td',{staticClass:\"text-center\"},[_vm._v(\"S/.\"+_vm._s(_vm._f(\"formatMoney\")(_vm.subTotalRevenue(item.products))))]),_c('td',{staticClass:\"text-center\"},[_vm._v(\"S/.\"+_vm._s(_vm._f(\"formatMoney\")((_vm.subTotalRevenue(item.products)-_vm.subTotalCost(item.products)))))])])}),_c('tr',[_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"},[_c('b',[_vm._v(\"Costo total:\")]),_c('span',{},[_vm._v(\"S/.\"+_vm._s(_vm._f(\"formatMoney\")(_vm.totalSalesCost)))])]),_c('td',{staticClass:\"text-center\"},[_c('b',[_vm._v(\"Total de Ventas:\")]),_c('span',{},[_vm._v(\"S/.\"+_vm._s(_vm._f(\"formatMoney\")(_vm.totalSales)))])]),_c('td',{staticClass:\"text-center\"},[_c('b',[_vm._v(\"Total de Ganancias:\")]),_c('span',{},[_vm._v(\"S/.\"+_vm._s(_vm._f(\"formatMoney\")(_vm.totalSales-_vm.totalSalesCost)))])])])],2)]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"container-width pa-5\">\r\n    <ul>\r\n      <li>\r\n        <h2 class=\"mb-3\">\r\n          Total de Ventas:\r\n          <span class=\"ganancia\">S/.{{totalSales | formatMoney}}</span>\r\n        </h2>\r\n      </li>\r\n      <li>\r\n        <h2 class=\"mb-3\">\r\n          Total de Ganancias:\r\n          <span class=\"ganancia\">S/.{{(totalSales-totalSalesCost) |formatMoney}}</span>\r\n        </h2>\r\n      </li>\r\n    </ul>\r\n    <v-container fluid>\r\n      <v-simple-table class=\"custom-table\">\r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-center\">\r\n                <span>Negocio</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Fecha</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Vendedor</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Productos</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Costo</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Total de venta</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Ganancias</span>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in sales\" :key=\"item.name\">\r\n              <!-- <td>{{item}}</td> -->\r\n              <td class=\"text-center\">\r\n                <b>{{ item.commerce }}</b>\r\n              </td>\r\n              <td class=\"text-center\">{{ item.date | formatDate }}</td>\r\n              <td class=\"text-center\">{{ item.userId.email }}</td>\r\n              <td class=\"text-center\">\r\n                <ul>\r\n                  <li\r\n                    v-for=\"productDetail in item.products\"\r\n                    :key=\"productDetail._id\"\r\n                  >{{productDetail.productId?productDetail.productId.name:'Producto eliminado'}} ({{productDetail.qty}} x S/.{{productDetail.salePrice}})</li>\r\n                </ul>\r\n              </td>\r\n              <td class=\"text-center\">S/.{{subTotalCost(item.products) | formatMoney}}</td>\r\n              <td class=\"text-center\">S/.{{subTotalRevenue(item.products) | formatMoney}}</td>\r\n              <td\r\n                class=\"text-center\"\r\n              >S/.{{(subTotalRevenue(item.products)-subTotalCost(item.products)) | formatMoney}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\">\r\n                <b>Costo total:</b>\r\n                <span class>S/.{{totalSalesCost | formatMoney}}</span>\r\n              </td>\r\n              <td class=\"text-center\">\r\n                <b>Total de Ventas:</b>\r\n                <span class>S/.{{totalSales | formatMoney}}</span>\r\n              </td>\r\n              <td class=\"text-center\">\r\n                <b>Total de Ganancias:</b>\r\n                <span class>S/.{{totalSales-totalSalesCost | formatMoney}}</span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </template>\r\n      </v-simple-table>\r\n    </v-container>\r\n  </v-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { format } from \"date-fns\";\r\n\r\nexport default {\r\n  filters: {\r\n    formatDate: function (value) {\r\n      return format(new Date(value), \"dd/MM/yyyy\");\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  async mounted() {\r\n    this.$store.getters[\"salesModule/salesWithProductsPopulated\"];\r\n    this.$store.dispatch(\"loadingModule/showLoading\");\r\n    await this.$store.dispatch(\"salesModule/listWithProducts\", {\r\n      page: 1,\r\n      limit: 9999,\r\n    });\r\n    this.$store.dispatch(\"loadingModule/showLoading\", false);\r\n  },\r\n  computed: {\r\n    sales() {\r\n      return this.$store.state.salesModule.sales;\r\n    },\r\n    totalSales() {\r\n      return this.sales\r\n        .reduce(\r\n          (a, b) => a + b.products.reduce((c, d) => c + d.salePrice * d.qty, 0),\r\n          0\r\n        )\r\n        .toFixed(2);\r\n    },\r\n    totalSalesCost() {\r\n      return this.sales\r\n        .reduce(\r\n          (a, b) =>\r\n            a + b.products.reduce((c, d) => c + d.purchasePrice * d.qty, 0),\r\n          0\r\n        )\r\n        .toFixed(2);\r\n    },\r\n  },\r\n  methods: {\r\n    subTotalRevenue(salesDetail) {\r\n      if (salesDetail)\r\n        return salesDetail.reduce((a, b) => a + b.salePrice * b.qty, 0);\r\n      else return \"S/.0\";\r\n    },\r\n    subTotalCost(salesDetail) {\r\n      if (salesDetail)\r\n        return salesDetail.reduce((a, b) => a + b.purchasePrice * b.qty, 0);\r\n      else return \"S/.0\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container-width {\r\n  width: 1500px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportSales.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportSales.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportSales.vue?vue&type=template&id=21339110&scoped=true&\"\nimport script from \"./ReportSales.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportSales.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReportSales.vue?vue&type=style&index=0&id=21339110&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21339110\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VContainer,VSimpleTable})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportSales.vue?vue&type=style&index=0&id=21339110&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportSales.vue?vue&type=style&index=0&id=21339110&lang=scss&scoped=true&\""],"sourceRoot":""}