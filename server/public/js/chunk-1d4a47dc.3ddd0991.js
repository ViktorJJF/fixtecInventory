(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d4a47dc"],{"3ca3":function(e,t,n){"use strict";var i=n("6547").charAt,a=n("69f3"),r=n("7dd0"),o="String Iterator",s=a.set,l=a.getterFor(o);r(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,a=t.index;return a>=n.length?{value:void 0,done:!0}:(e=i(n,a),t.index+=e.length,{value:e,done:!1})}))},"4df4":function(e,t,n){"use strict";var i=n("0366"),a=n("7b0b"),r=n("9bdd"),o=n("e95a"),s=n("50c4"),l=n("8418"),c=n("35a1");e.exports=function(e){var t,n,d,u,m,v,f=a(e),p="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,g=void 0!==b,y=c(f),I=0;if(g&&(b=i(b,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&o(y))for(t=s(f.length),n=new p(t);t>I;I++)v=g?b(f[I],I):f[I],l(n,I,v);else for(u=y.call(f),m=u.next,n=new p;!(d=m.call(u)).done;I++)v=g?r(u,b,[d.value,I],!0):d.value,l(n,I,v);return n.length=I,n}},"631d":function(e,t,n){"use strict";t["a"]=function(){return{name:"",typeId:null,brandId:null,colorId:null,qualityId:null,stock:0,gender:null,minStock:0,purchasePrice:0,price:0,description:"",commerce:null}}},a630:function(e,t,n){var i=n("23e7"),a=n("4df4"),r=n("1c7e"),o=!r((function(e){Array.from(e)}));i({target:"Array",stat:!0,forced:o},{from:a})},b85c:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("a630"),n("fb6a"),n("b0c0"),n("25f0");function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function r(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw o}}}}},d101:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-data-table",{attrs:{"no-results-text":"No se encontraron resultados",search:e.search,"hide-default-footer":"",headers:e.headers,items:e.filteredProducts,page:e.page,"items-per-page":e.$store.state.itemsPerPage},on:{"page-count":function(t){e.pageCount=t},"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"4"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Filtrar por modelo: "+e._s(e.search))]),n("v-text-field",{attrs:{dense:"","hide-details":"","append-icon":"search",placeholder:"Escribe el nombre del producto","single-line":"",outlined:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Filtrar por tipo:")]),n("v-select",{attrs:{clearable:"","hide-details":"",dense:"",placeholder:"Selecciona un tipo",items:e.types,"item-text":"name","item-value":"_id",outlined:""},on:{"click:clear":function(t){return e.showAllTypes()}},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Filtrar por marca:")]),n("v-select",{attrs:{clearable:"","hide-details":"",dense:"",placeholder:"Selecciona una marca",items:e.brands,"item-text":"name","item-value":"_id",outlined:""},on:{"click:clear":function(t){return e.showAllBrands()}},model:{value:e.selectedBrand,callback:function(t){e.selectedBrand=t},expression:"selectedBrand"}})],1)],1)],1),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})]},proxy:!0},{key:"item.action",fn:function(t){var i=t.item;return[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.selectButton,expression:"!selectButton"}],staticClass:"mr-3 mb-2",attrs:{small:"",color:"secondary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Editar")]),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.selectButton,expression:"!selectButton"}],staticClass:"mb-2",attrs:{small:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Eliminar")]),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.selectButton,expression:"selectButton"}],attrs:{color:"info"},on:{click:function(t){return e.$emit("add-product",i)}}},[e._v("Agregar")])]}},{key:"item.stock",fn:function(t){var i=t.item;return[e._v(" "+e._s(i.stock)+" "),n("v-icon",{directives:[{name:"show",rawName:"v-show",value:i.stock>=i.minStock,expression:"item.stock>=item.minStock"}],attrs:{color:"green"}},[e._v("mdi-checkbox-marked-circle")]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-icon",e._g({directives:[{name:"show",rawName:"v-show",value:i.stock<i.minStock,expression:"item.stock<item.minStock"}],attrs:{color:"error"}},a),[e._v("mdi-alert-circle")])]}}],null,!0)},[n("span",[e._v("Stock por agotarse")])])]}},{key:"item.createdAt",fn:function(t){var n=t.item;return[e._v(e._s(e._f("formatDate")(n.createdAt)))]}},{key:"item.purchasePrice",fn:function(t){var n=t.item;return[e._v("S/."+e._s(n.purchasePrice))]}},{key:"item.price",fn:function(t){var n=t.item;return[e._v("S/."+e._s(n.price))]}},{key:"item.brandId",fn:function(t){var n=t.item;return[e._v(e._s(n.brandId?n.brandId.name:"Sin marca"))]}},{key:"item.typeId",fn:function(t){var n=t.item;return[e._v(e._s(n.typeId?n.typeId.name:"Sin tipo"))]}},{key:"item.colorId",fn:function(t){var n=t.item;return[e._v(e._s(n.colorId?n.colorId.name:"Sin color"))]}},{key:"no-data",fn:function(){return[n("v-alert",{attrs:{type:"error",value:!0}},[e._v("No se encontraron datos")])]},proxy:!0}])}),n("div",{staticClass:"text-center pt-2"},[n("v-pagination",{attrs:{length:e.pageCount},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),n("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-divider"),n("v-container",{staticClass:"pa-5"},[n("v-alert",{attrs:{text:"",type:"error",value:e.validateError}},[e._v("Es necesario colocar el nombre del modelo")]),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Nombre")]),n("v-text-field",{attrs:{dense:"","hide-details":"",outlined:"",placeholder:"Nombre del modelo"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Negocio")]),n("v-select",{attrs:{items:e.commerce,label:"Selecciona el negocio",outlined:"",dense:""},model:{value:e.editedItem.commerce,callback:function(t){e.$set(e.editedItem,"commerce",t)},expression:"editedItem.commerce"}})],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Tipo")]),n("v-select",{attrs:{dense:"","hide-details":"",items:e.types,"item-text":"name","item-value":"_id",outlined:""},model:{value:e.editedItem.typeId,callback:function(t){e.$set(e.editedItem,"typeId",t)},expression:"editedItem.typeId"}})],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Marca")]),n("v-select",{attrs:{dense:"","hide-details":"",items:e.brands,"item-text":"name","item-value":"_id",outlined:""},model:{value:e.editedItem.brandId,callback:function(t){e.$set(e.editedItem,"brandId",t)},expression:"editedItem.brandId"}})],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Color")]),n("v-select",{attrs:{dense:"","hide-details":"",items:e.colors,"item-text":"name","item-value":"_id",outlined:""},model:{value:e.editedItem.colorId,callback:function(t){e.$set(e.editedItem,"colorId",t)},expression:"editedItem.colorId"}})],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Calidad")]),n("v-select",{attrs:{dense:"","hide-details":"",placeholder:"Selecciona una calidad","item-text":"name","item-value":"_id",items:e.qualities,loading:e.qualitiesLoading,outlined:""},on:{click:e.getQualities},scopedSlots:e._u([{key:"no-data",fn:function(){return[e.qualitiesLoading?n("v-container",{staticClass:"text-center",attrs:{fluid:""}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e._e()]},proxy:!0}]),model:{value:e.editedItem.qualityId,callback:function(t){e.$set(e.editedItem,"qualityId",t)},expression:"editedItem.qualityId"}})],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Género")]),n("v-select",{attrs:{dense:"","hide-details":"",placeholder:"Selecciona un género","item-text":"name","item-value":"value",items:e.genders,outlined:""},model:{value:e.editedItem.gender,callback:function(t){e.$set(e.editedItem,"gender",t)},expression:"editedItem.gender"}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Precio de Compra")]),n("v-text-field",{attrs:{prefix:"S/.",dense:"","hide-details":"",outlined:"",type:"number"},model:{value:e.editedItem.purchasePrice,callback:function(t){e.$set(e.editedItem,"purchasePrice",t)},expression:"editedItem.purchasePrice"}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Precio de venta")]),n("v-text-field",{attrs:{prefix:"S/.",dense:"","hide-details":"",outlined:"",type:"number"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Stock")]),n("v-text-field",{attrs:{suffix:"unidades",dense:"","hide-details":"",outlined:"",type:"number"},model:{value:e.editedItem.stock,callback:function(t){e.$set(e.editedItem,"stock",t)},expression:"editedItem.stock"}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Stock mínimo")]),n("v-text-field",{attrs:{suffix:"unidades",dense:"","hide-details":"",outlined:"",type:"number"},model:{value:e.editedItem.minStock,callback:function(t){e.$set(e.editedItem,"minStock",t)},expression:"editedItem.minStock"}})],1),n("v-col",{attrs:{cols:"12",sm:"12"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Descripción")]),n("v-textarea",{attrs:{dense:"","hide-details":"",placeholder:"Ingresa una descripción",outlined:""},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1)],1)],1),n("v-card-actions",[n("div",{staticClass:"flex-grow-1"}),n("v-btn",{attrs:{outlined:"",color:"error",text:""},on:{click:e.close}},[e._v("Cancelar")]),n("v-btn",{attrs:{loading:e.loadingButton,color:"success"},on:{click:e.save}},[e._v("Guardar")])],1)],1)],1)],1)},a=[],r=(n("4de4"),n("c975"),n("a434"),n("96cf"),n("1da1")),o=n("b166"),s=n("631d"),l={props:{selectButton:{type:Boolean,default:!1}},filters:{formatDate:function(e){return Object(o["a"])(new Date(e),"dd/MM/yyyy")}},data:function(){return{genders:[{id:1,name:"Masculino",value:"M"},{id:2,name:"Femenino",value:"F"}],page:1,pageCount:0,loadingButton:!1,qualitiesLoading:!1,validateError:!1,search:"",dialog:!1,selectedType:null,selectedBrand:null,headers:[{text:"Nombre",value:"name"},{text:"Tipo",value:"typeId",filterable:!1},{text:"Marca",value:"brandId",filterable:!1},{text:"Color",value:"colorId",filterable:!1},{text:"Stock",value:"stock",filterable:!1},{text:"Precio de compra",value:"purchasePrice",filterable:!1},{text:"Precio de venta",value:"price",filterable:!1},{text:"Agregado",align:"left",sortable:!0,value:"createdAt"},{text:"Acciones",value:"action",sortable:!1}],products:[],editedIndex:-1,editedItem:Object(s["a"])(),defaultItem:Object(s["a"])()}},computed:{formTitle:function(){return"Editar producto"},brands:function(){return this.$store.state.brandsModule.brands},types:function(){return this.$store.state.typesModule.types},colors:function(){return this.$store.state.colorsModule.colors},qualities:function(){return this.$store.state.qualitiesModule.qualities},filteredProducts:function(){var e=this;return this.selectedType||this.selectedBrand?this.products.filter((function(t){return(!e.selectedType||(t.typeId?t.typeId._id===e.selectedType:null))&&(!e.selectedBrand||(t.brandId?t.brandId._id===e.selectedBrand:null))})):this.products},commerce:function(){return this.$store.state.commerce}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.products=this.$deepCopy(this.$store.state.productsModule.products)},showAllTypes:function(){this.selectedType=null},showAllBrands:function(){this.selectedBrand=null},editItem:function(e){this.editedIndex=this.products.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.products.indexOf(e),a=t.products[i]._id,n.next=4,t.$confirm("¿Realmente deseas eliminar este registro?");case 4:if(!n.sent){n.next=8;break}return n.next=7,t.$store.dispatch("productsModule/delete",a);case 7:t.products.splice(i,1);case 8:case"end":return n.stop()}}),n)})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},validateForm:function(){return this.editedItem.model?(this.validateError=!1,!0):(this.validateError=!0,!1)},save:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loadingButton=!0,!(e.editedIndex>-1)){t.next=12;break}return n=e.products[e.editedIndex]._id,t.prev=3,t.next=6,e.$store.dispatch("productsModule/update",{id:n,data:e.editedItem});case 6:i=t.sent,Object.assign(e.products[e.editedIndex],i),e.close();case 9:return t.prev=9,e.loadingButton=!1,t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[3,,9,12]])})))()},getQualities:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.qualities.length){t.next=8;break}return e.qualitiesLoading=!0,t.prev=2,t.next=5,e.$store.dispatch("qualitiesModule/list");case 5:return t.prev=5,e.qualitiesLoading=!1,t.finish(5);case 8:case"end":return t.stop()}}),t,null,[[2,,5,8]])})))()}}},c=l,d=n("2877"),u=n("6544"),m=n.n(u),v=n("0798"),f=n("8336"),p=n("b0af"),h=n("99d9"),b=n("62ad"),g=n("a523"),y=n("8fea"),I=n("169a"),x=n("ce7e"),k=n("132d"),w=n("891e"),_=n("490a"),S=n("0fd9"),C=n("b974"),$=n("8654"),A=n("a844"),B=n("3a2f"),T=Object(d["a"])(c,i,a,!1,null,"abf77812",null);t["a"]=T.exports;m()(T,{VAlert:v["a"],VBtn:f["a"],VCard:p["a"],VCardActions:h["b"],VCardTitle:h["e"],VCol:b["a"],VContainer:g["a"],VDataTable:y["a"],VDialog:I["a"],VDivider:x["a"],VIcon:k["a"],VPagination:w["a"],VProgressCircular:_["a"],VRow:S["a"],VSelect:C["a"],VTextField:$["a"],VTextarea:A["a"],VTooltip:B["a"]})},d28b:function(e,t,n){var i=n("746f");i("iterator")},e01a:function(e,t,n){"use strict";var i=n("23e7"),a=n("83ab"),r=n("da84"),o=n("5135"),s=n("861d"),l=n("9bf2").f,c=n("e893"),d=r.Symbol;if(a&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof m?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};c(m,d);var v=m.prototype=d.prototype;v.constructor=m;var f=v.toString,p="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;l(v,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(o(u,e))return"";var n=p?t.slice(7,-1):t.replace(h,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:m})}},fb6a:function(e,t,n){"use strict";var i=n("23e7"),a=n("861d"),r=n("e8b5"),o=n("23cb"),s=n("50c4"),l=n("fc6a"),c=n("8418"),d=n("b622"),u=n("1dde"),m=n("ae40"),v=u("slice"),f=m("slice",{ACCESSORS:!0,0:0,1:2}),p=d("species"),h=[].slice,b=Math.max;i({target:"Array",proto:!0,forced:!v||!f},{slice:function(e,t){var n,i,d,u=l(this),m=s(u.length),v=o(e,m),f=o(void 0===t?m:t,m);if(r(u)&&(n=u.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?a(n)&&(n=n[p],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return h.call(u,v,f);for(i=new(void 0===n?Array:n)(b(f-v,0)),d=0;v<f;v++,d++)v in u&&c(i,d,u[v]);return i.length=d,i}})}}]);
//# sourceMappingURL=chunk-1d4a47dc.3ddd0991.js.map