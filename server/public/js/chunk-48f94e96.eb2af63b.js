(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48f94e96"],{"39d2":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"container-width pa-5"},[s("ul",[s("li",[s("h2",{staticClass:"mb-3"},[t._v(" Total de Ventas de Servicios: "),s("span",{staticClass:"ganancia"},[t._v("S/."+t._s(t._f("formatMoney")(t.totalSales)))])])]),s("li",[s("h2",{staticClass:"mb-3"},[t._v(" Total de Ganancias: "),s("span",{staticClass:"ganancia"},[t._v("S/."+t._s(t._f("formatMoney")(t.totalSales-t.totalSalesCost)))])])])]),s("v-container",{attrs:{fluid:""}},[s("v-col",{attrs:{cols:"12",sm:"12"}},[s("strong",[t._v("Cantidad de ventas de servicios:")]),t._v(" "+t._s(t.$store.state.salesServicesModule.salesServices.length)+" ")]),s("div",{staticClass:"text-center pt-2"},[s("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),s("v-simple-table",{staticClass:"custom-table",scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center"},[s("span",[t._v("Negocio")])]),s("th",{staticClass:"text-center"},[s("span",[t._v("Fecha")])]),s("th",{staticClass:"text-center"},[s("span",[t._v("Servicios")])]),s("th",{staticClass:"text-center"},[s("span",[t._v("Costo")])]),s("th",{staticClass:"text-center"},[s("span",[t._v("Total de venta")])]),s("th",{staticClass:"text-center"},[s("span",[t._v("Ganancias")])])])]),s("tbody",[t._l(t.paginatedSalesServices,(function(e){return s("tr",{key:e.name},[s("td",{staticClass:"text-center"},[s("b",[t._v(t._s(e.commerce))])]),s("td",{staticClass:"text-center"},[t._v(t._s(t._f("formatDate")(e.date)))]),s("td",{staticClass:"text-center"},[s("div",t._l(e.services,(function(e){return s("div",{key:e._id},[t._v("- "+t._s(e.serviceId?e.serviceId.name:"servicio eliminado")+" (Venta: S/."+t._s(e.salePrice)+")")])})),0)]),s("td",{staticClass:"text-center"},[t._l(e.services,(function(e){return s("div",{key:e._id},t._l(e.cost.products,(function(e){return s("div",{key:e._id},[t._v("- "+t._s(e.name)+" (Costo: "+t._s(e.purchasePrice)+")")])})),0)})),s("b",[t._v("Total:")]),t._v(" S/."+t._s(t._f("formatMoney")(t.subTotalCost(e.services)))+" ")],2),s("td",{staticClass:"text-center"},[t._v("S/."+t._s(t._f("formatMoney")(t.subTotalRevenue(e.services))))]),s("td",{staticClass:"text-center"},[t._v("S/."+t._s(t._f("formatMoney")(t.subTotalRevenue(e.services)-t.subTotalCost(e.services))))])])})),s("tr",[s("td",{staticClass:"text-center"}),s("td",{staticClass:"text-center"}),s("td",{staticClass:"text-center"}),s("td",{staticClass:"text-center"},[s("b",[t._v("Costo total:")]),s("span",{},[t._v("S/."+t._s(t._f("formatMoney")(t.totalSalesCost)))])]),s("td",{staticClass:"text-center"},[s("b",[t._v("Total de Ventas:")]),s("span",{},[t._v("S/."+t._s(t._f("formatMoney")(t.totalSales)))])]),s("td",{staticClass:"text-center"},[s("b",[t._v("Total de Ganancias:")]),s("span",{},[t._v("S/."+t._s(t._f("formatMoney")(t.totalSales-t.totalSalesCost)))])])])],2)]},proxy:!0}])}),s("div",{staticClass:"text-center pt-2"},[s("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},n=[],r=(s("13d5"),s("fb6a"),s("b680"),s("96cf"),s("1da1")),i=s("b166"),c={filters:{formatDate:function(t){return Object(i["a"])(new Date(t),"dd/MM/yyyy")}},data:function(){return{page:1}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loadingModule/showLoading"),e.next=3,t.$store.dispatch("salesServicesModule/list");case 3:t.$store.dispatch("loadingModule/showLoading",!1);case 4:case"end":return e.stop()}}),e)})))()},computed:{pageCount:function(){return Math.ceil(this.salesServices.length/this.$store.state.itemsPerPage)},salesServices:function(){return this.$store.state.salesServicesModule.salesServices},paginatedSalesServices:function(){return this.salesServices.slice((this.page-1)*this.$store.state.itemsPerPage,this.page*this.$store.state.itemsPerPage)},totalSales:function(){return this.salesServices.reduce((function(t,e){return t+e.services.reduce((function(t,e){return t+e.salePrice}),0)}),0).toFixed(2)},totalSalesCost:function(){return this.salesServices.reduce((function(t,e){return t+e.services.reduce((function(t,e){return t+e.cost.value}),0)}),0).toFixed(2)}},methods:{subTotalRevenue:function(t){return t?t.reduce((function(t,e){return t+e.salePrice}),0):"S/.0"},subTotalCost:function(t){return t?t.reduce((function(t,e){return t+e.cost.value}),0):"S/.0"}}},o=c,l=s("2877"),u=s("6544"),d=s.n(u),v=s("62ad"),f=s("a523"),_=s("891e"),p=s("1f4f"),C=Object(l["a"])(o,a,n,!1,null,"93c2d444",null);e["default"]=C.exports;d()(C,{VCol:v["a"],VContainer:f["a"],VPagination:_["a"],VSimpleTable:p["a"]})},fb6a:function(t,e,s){"use strict";var a=s("23e7"),n=s("861d"),r=s("e8b5"),i=s("23cb"),c=s("50c4"),o=s("fc6a"),l=s("8418"),u=s("b622"),d=s("1dde"),v=s("ae40"),f=d("slice"),_=v("slice",{ACCESSORS:!0,0:0,1:2}),p=u("species"),C=[].slice,h=Math.max;a({target:"Array",proto:!0,forced:!f||!_},{slice:function(t,e){var s,a,u,d=o(this),v=c(d.length),f=i(t,v),_=i(void 0===e?v:e,v);if(r(d)&&(s=d.constructor,"function"!=typeof s||s!==Array&&!r(s.prototype)?n(s)&&(s=s[p],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return C.call(d,f,_);for(a=new(void 0===s?Array:s)(h(_-f,0)),u=0;f<_;f++,u++)f in d&&l(a,u,d[f]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-48f94e96.eb2af63b.js.map