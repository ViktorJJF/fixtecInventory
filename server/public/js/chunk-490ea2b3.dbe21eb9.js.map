{"version":3,"sources":["webpack:///./src/views/drawerPages/ReportPurchases.vue?b78b","webpack:///src/views/drawerPages/ReportPurchases.vue","webpack:///./src/views/drawerPages/ReportPurchases.vue?211a","webpack:///./src/views/drawerPages/ReportPurchases.vue","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","_f","totalPurchases","attrs","$store","state","purchasesModule","total","pageCount","model","value","callback","$$v","page","expression","scopedSlots","_u","key","fn","_l","item","name","commerce","date","productDetail","_id","productId","qty","purchasePrice","totalRevenue","products","proxy","staticRenderFns","filters","formatDate","data","computed","Math","ceil","purchases","length","itemsPerPage","paginatedPurchases","slice","methods","purchasesDetail","component","VCol","VContainer","VPagination","VSimpleTable","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","max","target","proto","forced","start","end","Constructor","result","n","O","k","fin","undefined","constructor","Array","prototype","call"],"mappings":"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","file":"js/chunk-490ea2b3.dbe21eb9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"container-width pa-5\"},[_c('h1',{staticClass:\"mb-3\"},[_vm._v(\" Total de compras: \"),_c('span',{},[_vm._v(\"S/.\"+_vm._s(_vm._f(\"formatMoney\")(_vm.totalPurchases)))])]),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('strong',[_vm._v(\"Cantidad de compras:\")]),_vm._v(\" \"+_vm._s(_vm.$store.state.purchasesModule.total)+\" \")]),_c('div',{staticClass:\"text-center pt-2\"},[_c('v-pagination',{attrs:{\"length\":_vm.pageCount},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1),_c('v-simple-table',{staticClass:\"custom-table\",scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Negocio\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Fecha\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Productos\")])]),_c('th',{staticClass:\"text-center\"},[_c('span',[_vm._v(\"Total de compra\")])])])]),_c('tbody',[_vm._l((_vm.paginatedPurchases),function(item){return _c('tr',{key:item.name},[_c('td',{staticClass:\"text-center\"},[_c('b',[_vm._v(_vm._s(item.commerce))])]),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(item.date)))]),_c('td',{staticClass:\"text-center\"},[_c('ul',_vm._l((item.products),function(productDetail){return _c('li',{key:productDetail._id},[_vm._v(_vm._s(productDetail.productId?productDetail.productId.name:'Producto eliminado')+\" (\"+_vm._s(productDetail.qty)+\" x S/.\"+_vm._s(productDetail.purchasePrice)+\")\")])}),0)]),_c('td',{staticClass:\"text-center\"},[_vm._v(\"S/.\"+_vm._s(_vm.totalRevenue(item.products)))])])}),_c('tr',[_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"}),_c('td',{staticClass:\"text-center\"},[_c('b',[_vm._v(\"Total de Compras:\")]),_c('span',{},[_vm._v(\"S/.\"+_vm._s(_vm.totalPurchases))])])])],2)]},proxy:true}])}),_c('div',{staticClass:\"text-center pt-2\"},[_c('v-pagination',{attrs:{\"length\":_vm.pageCount},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"container-width pa-5\">\r\n    <h1 class=\"mb-3\">\r\n      Total de compras:\r\n      <span class>S/.{{totalPurchases | formatMoney}}</span>\r\n    </h1>\r\n    <v-container fluid>\r\n      <v-col cols=\"12\" sm=\"12\">\r\n        <strong>Cantidad de compras:</strong>\r\n        {{$store.state.purchasesModule.total}}\r\n      </v-col>\r\n      <div class=\"text-center pt-2\">\r\n        <v-pagination v-model=\"page\" :length=\"pageCount\"></v-pagination>\r\n      </div>\r\n      <v-simple-table class=\"custom-table\">\r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-center\">\r\n                <span>Negocio</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Fecha</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Productos</span>\r\n              </th>\r\n              <th class=\"text-center\">\r\n                <span>Total de compra</span>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in paginatedPurchases\" :key=\"item.name\">\r\n              <td class=\"text-center\">\r\n                <b>{{ item.commerce }}</b>\r\n              </td>\r\n              <td class=\"text-center\">{{ item.date | formatDate }}</td>\r\n              <td class=\"text-center\">\r\n                <ul>\r\n                  <li\r\n                    v-for=\"productDetail in item.products\"\r\n                    :key=\"productDetail._id\"\r\n                  >{{productDetail.productId?productDetail.productId.name:'Producto eliminado'}} ({{productDetail.qty}} x S/.{{productDetail.purchasePrice}})</li>\r\n                </ul>\r\n              </td>\r\n              <td class=\"text-center\">S/.{{totalRevenue(item.products)}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\"></td>\r\n              <td class=\"text-center\">\r\n                <b>Total de Compras:</b>\r\n                <span class>S/.{{totalPurchases}}</span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </template>\r\n      </v-simple-table>\r\n      <div class=\"text-center pt-2\">\r\n        <v-pagination v-model=\"page\" :length=\"pageCount\"></v-pagination>\r\n      </div>\r\n    </v-container>\r\n  </v-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { format } from \"date-fns\";\r\nexport default {\r\n  filters: {\r\n    formatDate: function (value) {\r\n      return format(new Date(value), \"dd/MM/yyyy\");\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      page: 1,\r\n    };\r\n  },\r\n  async mounted() {\r\n    this.$store.dispatch(\"loadingModule/showLoading\");\r\n    await this.$store.dispatch(\"purchasesModule/listWithProducts\", {\r\n      page: 1,\r\n      limit: 9999,\r\n    });\r\n    this.$store.dispatch(\"loadingModule/showLoading\", false);\r\n  },\r\n  computed: {\r\n    pageCount() {\r\n      return Math.ceil(this.purchases.length / this.$store.state.itemsPerPage);\r\n    },\r\n    purchases() {\r\n      return this.$store.state.purchasesModule.purchases;\r\n    },\r\n    paginatedPurchases() {\r\n      return this.purchases.slice(\r\n        (this.page - 1) * this.$store.state.itemsPerPage,\r\n        this.page * this.$store.state.itemsPerPage\r\n      );\r\n    },\r\n    totalPurchases() {\r\n      return this.purchases\r\n        .reduce(\r\n          (a, b) =>\r\n            a + b.products.reduce((c, d) => c + d.purchasePrice * d.qty, 0),\r\n          0\r\n        )\r\n        .toFixed(2);\r\n    },\r\n  },\r\n  methods: {\r\n    totalRevenue(purchasesDetail) {\r\n      if (purchasesDetail)\r\n        return purchasesDetail\r\n          .reduce((a, b) => a + b.purchasePrice * b.qty, 0)\r\n          .toFixed(2);\r\n      else return \"S/.0\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportPurchases.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportPurchases.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportPurchases.vue?vue&type=template&id=5db90132&scoped=true&\"\nimport script from \"./ReportPurchases.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportPurchases.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5db90132\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VCol,VContainer,VPagination,VSimpleTable})\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}